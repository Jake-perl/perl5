/* -*- mode: C; buffer-read-only: t -*-
 *
 *    lock_definitions.h
 *
 *    Copyright (C) 2023, 2024 by Larry Wall and others
 *
 *    You may distribute under the terms of either the GNU General Public
 *    License or the Artistic License, as specified in the README file.
 *
 * !!!!!!!   DO NOT EDIT THIS FILE   !!!!!!!
 * This file is built by regen/lock_definitions.pl from data in
 * regen/lock_definitions.pl.
 * Any changes made here will be lost!
 */

/* This file contains macros to wrap their respective libc accesses to ensure
 * that those accesses are thread-safe in a multi-threaded environment.
 *
 * Accesses are mostly function calls but there are a few macros and variables
 * as well.  Most libc accesses are already thread-safe without these
 * wrappers, so do not appear here.  The accesses that are known to have
 * multi-thread issues are:
 *
 * addmntent             gethostbyaddr       iswprint_l         setstate_r
 * alphasort             gethostbyaddr_r     iswpunct           setttyent
 * asctime               gethostbyname       iswpunct_l         setusershell
 * asctime_r             gethostbyname2      iswspace           setutent
 * asprintf              gethostbyname2_r    iswspace_l         setutxent
 * atof                  gethostbyname_r     iswupper           sgetspent
 * atoi                  gethostent          iswupper_l         sgetspent_r
 * atol                  gethostent_r        iswxdigit          shm_open
 * atoll                 gethostid           iswxdigit_l        shm_unlink
 * basename              getlogin            isxdigit           siginterrupt
 * btowc                 getlogin_r          isxdigit_l         sleep
 * catgets               getmntent           jrand48            snprintf
 * catopen               getmntent_r         jrand48_r          sprintf
 * clearenv              getnameinfo         l64a               srand48
 * clearerr_unlocked     getnetbyaddr        lcong48            srand48_r
 * crypt                 getnetbyaddr_r      lcong48_r          srandom_r
 * crypt_gensalt         getnetbyname        lgamma             sscanf
 * crypt_r               getnetbyname_r      lgammaf            ssignal
 * ctermid               getnetent           lgammal            strcasecmp
 * ctermid_r             getnetent_r         localeconv         strcasestr
 * ctime                 getnetgrent         localtime          strcoll
 * ctime_r               getnetgrent_r       localtime_r        strerror
 * cuserid               getopt              login              strerror_l
 * daylight              getopt_long         login_tty          strerror_r
 * dbm_clearerr          getopt_long_only    logout             strfmon
 * dbm_close             getpass             logwtmp            strfmon_l
 * dbm_delete            getprotobyname      lrand48            strfromd
 * dbm_error             getprotobyname_r    lrand48_r          strfromf
 * dbm_fetch             getprotobynumber    makecontext        strfroml
 * dbm_firstkey          getprotobynumber_r  mallinfo           strftime
 * dbm_nextkey           getprotoent         MB_CUR_MAX         strftime_l
 * dbm_open              getprotoent_r       mblen              strncasecmp
 * dbm_store             getpw               mbrlen             strptime
 * dirname               getpwent            mbrtowc            strsignal
 * dlerror               getpwent_r          mbsinit            strtod
 * dprintf               getpwnam            mbsnrtowcs         strtof
 * drand48               getpwnam_r          mbsrtowcs          strtoimax
 * drand48_r             getpwuid            mbstowcs           strtok
 * ecvt                  getpwuid_r          mbtowc             strtol
 * encrypt               getrpcbyname        mcheck             strtold
 * endaliasent           getrpcbyname_r      mcheck_check_all   strtoll
 * endfsent              getrpcbynumber      mcheck_pedantic    strtoq
 * endgrent              getrpcbynumber_r    mktime             strtoul
 * endgrent_r            getrpcent           mprobe             strtoull
 * endhostent            getrpcent_r         mrand48            strtoumax
 * endhostent_r          getrpcport          mrand48_r          strtouq
 * endnetent             getservbyname       mtrace             strverscmp
 * endnetent_r           getservbyname_r     muntrace           strxfrm
 * endnetgrent           getservbyport       nan                swapcontext
 * endprotoent           getservbyport_r     nanf               swprintf
 * endprotoent_r         getservent          nanl               swscanf
 * endpwent              getservent_r        newlocale          sysconf
 * endpwent_r            getspent            nftw               syslog
 * endrpcent             getspent_r          nl_langinfo        system
 * endservent            getspnam            nrand48            tdelete
 * endservent_r          getspnam_r          nrand48_r          tempnam
 * endspent              getttyent           openpty            tfind
 * endttyent             getttynam           perror             timegm
 * endusershell          getusershell        posix_fallocate    timelocal
 * endutent              getutent            printf             timezone
 * endutxent             getutid             profil             tmpnam
 * erand48               getutline           psiginfo           tmpnam_r
 * erand48_r             getutxent           psignal            tolower
 * err                   getutxid            ptsname            tolower_l
 * error                 getutxline          putchar_unlocked   toupper
 * error_at_line         getwc               putc_unlocked      toupper_l
 * errx                  getwchar            putenv             towctrans
 * ether_aton            getwchar_unlocked   putpwent           towlower
 * ether_ntoa            getwc_unlocked      putspent           towlower_l
 * execlp                glob                pututline          towupper
 * execvp                gmtime              pututxline         towupper_l
 * execvpe               gmtime_r            putwc              tsearch
 * exit                  grantpt             putwchar           ttyname
 * __fbufsize            hcreate             putwchar_unlocked  ttyname_r
 * fcloseall             hcreate_r           putwc_unlocked     ttyslot
 * fcvt                  hdestroy            pvalloc            twalk
 * fflush_unlocked       hdestroy_r          qecvt              twalk_r
 * fgetc_unlocked        hsearch             qfcvt              tzname
 * fgetgrent             hsearch_r           rand               tzset
 * fgetpwent             iconv               random_r           ungetwc
 * fgetspent             iconv_open          rcmd               unsetenv
 * fgets_unlocked        inet_addr           rcmd_af            updwtmp
 * fgetwc                inet_aton           readdir            utmpname
 * fgetwc_unlocked       inet_network        readdir64          va_arg
 * fgetws                inet_ntoa           readdir64_r        valloc
 * fgetws_unlocked       inet_ntop           readdir_r          vasprintf
 * fnmatch               inet_pton           re_comp            vdprintf
 * forkpty               initgroups          re_exec            verr
 * __fpending            initstate_r         regcomp            verrx
 * fprintf               innetgr             regerror           versionsort
 * __fpurge              iruserok            regexec            vfprintf
 * fputc_unlocked        iruserok_af         res_nclose         vfscanf
 * fputs_unlocked        isalnum             res_ninit          vfwprintf
 * fputwc                isalnum_l           res_nquery         vprintf
 * fputwc_unlocked       isalpha             res_nquerydomain   vscanf
 * fputws                isalpha_l           res_nsearch        vsnprintf
 * fputws_unlocked       isascii             res_nsend          vsprintf
 * fread_unlocked        isascii_l           rexec              vsscanf
 * fscanf                isblank             rexec_af           vswprintf
 * __fsetlocking         isblank_l           rpmatch            vsyslog
 * fts_children          iscntrl             ruserok            vwarn
 * fts_read              iscntrl_l           ruserok_af         vwarnx
 * ftw                   isdigit             scandir            vwprintf
 * fwprintf              isdigit_l           scanf              warn
 * fwrite_unlocked       isgraph             secure_getenv      warnx
 * fwscanf               isgraph_l           seed48             wcrtomb
 * gamma                 islower             seed48_r           wcscasecmp
 * gammaf                islower_l           setaliasent        wcschr
 * gammal                isprint             setcontext         wcscoll
 * getaddrinfo           isprint_l           setenv             wcsftime
 * getaliasbyname        ispunct             setfsent           wcsncasecmp
 * getaliasbyname_r      ispunct_l           setgrent           wcsnrtombs
 * getaliasent           isspace             setgrent_r         wcsrchr
 * getaliasent_r         isspace_l           sethostent         wcsrtombs
 * getchar_unlocked      isupper             sethostent_r       wcstod
 * getcontext            isupper_l           sethostid          wcstof
 * getc_unlocked         iswalnum            setkey             wcstoimax
 * get_current_dir_name  iswalnum_l          setlocale          wcstold
 * getdate               iswalpha            setlocale_r        wcstombs
 * getdate_r             iswalpha_l          setlogmask         wcstoumax
 * getenv                iswblank            setnetent          wcswidth
 * getfsent              iswblank_l          setnetent_r        wcsxfrm
 * getfsfile             iswcntrl            setnetgrent        wctob
 * getfsspec             iswcntrl_l          setprotoent        wctomb
 * getgrent              iswdigit            setprotoent_r      wctrans
 * getgrent_r            iswdigit_l          setpwent           wctype
 * getgrgid              iswgraph            setpwent_r         wcwidth
 * getgrgid_r            iswgraph_l          setrpcent          wordexp
 * getgrnam              iswlower            setservent         wprintf
 * getgrnam_r            iswlower_l          setservent_r       wscanf
 * getgrouplist          iswprint            setspent           
 *
 * If an access doesn't appear in the above list, perl thinks it is
 * thread-safe on all platforms.  If your experience is otherwise, add an
 * entry in the DATA portion of regen/lock_definitions.pl.
 *
 * If you use any of the above listed items, this file is for you.
 *
 * All the accesses listed above are function calls, except for these:
 *
 * daylight  MB_CUR_MAX  timezone  tzname  
 *
 * A few functions are considered obsolete, and should not be used, at least
 * in new code.  Along with any preferred alternatives, these are:
 *
 * asctime()        Perl_sv_strftime_tm()
 * asctime_r()      Perl_sv_strftime_tm()
 * crypt_r()        
 * ctime()          Perl_sv_strftime_ints()
 * ctime_r()        Perl_sv_strftime_ints()
 * ecvt()           snprintf()
 * endgrent_r()     
 * endhostent_r()   
 * endnetent_r()    
 * endprotoent_r()  
 * endpwent_r()     
 * endservent_r()   
 * endutent()       endutxent()
 * fcvt()           snprintf()
 * ftw()            nftw()
 * gethostbyaddr()  getaddrinfo()
 * gethostbyname()  getnameinfo()
 * getpass()        DO NOT USE
 * getpw()          getpwuid()
 * getutent()       getutxent()
 * getutid()        getutxid()
 * getutline()      getutxline()
 * pututline()      pututxline()
 * qecvt()          snprintf()
 * qfcvt()          snprintf()
 * readdir_r()      readdir()
 * re_comp()        regcomp()
 * re_exec()        regexec()
 * rexec()          rcmd()
 * rexec_af()       rcmd()
 * setgrent_r()     
 * sethostent_r()   
 * setlocale_r()    
 * setnetent_r()    
 * setprotoent_r()  
 * setpwent_r()     
 * setservent_r()   
 * setutent()       setutxent()
 * siginterrupt()   Use sigaction(2) with the SA_RESTART flag instead
 * ssignal()        
 * tempnam()        mkstemp() or tmpfile()
 * tmpnam()         mkstemp() or tmpfile()
 * tmpnam_r()       mkstemp() or tmpfile()
 *
 * More detailed information may be available at the #define entry for the
 * respective lock below.
 *
 * A few functions are considered totally unsuited for use in a multi-thread
 * environment.  These must be called only during single-thread operation,
 * hence no UNLOCK wrapper macro is generated for these, and the generated
 * LOCK macro is designed to give a compilation error.
 *
 *  endusershell  @getaliasbyname   getusershell   rcmd_af    setusershell
 *  ether_aton    @getaliasent      mtrace         re_comp    ttyslot
 *  ether_ntoa    @getrpcbyname     muntrace       re_exec   
 *  fts_children  @getrpcbynumber   profil         rexec     
 *  fts_read      @getrpcent        rcmd           rexec_af  
 *
 * There are preferred alternatives on some platforms for the functions marked
 * with '@' above, and which may be suitable for multi-thread use.  See below
 * for the list of preferred alternatives.
 *
 * Some functions perform initialization on their first call that must be done
 * while still in a single-thread environment, but subsequent calls are
 * thread-safe when wrapped with the respective macros defined in this file.
 * Therefore, they must be called at least once before switching to
 * multi-threads:
 *
 * getutent  getutline  getutxid    mallinfo  valloc  
 * getutid   getutxent  getutxline  pvalloc   
 *
 * Some libc functions use and/or modify a global state, such as a database.
 * The libc functions presume that there is only one thread at a time
 * operating on that database.  Unpredictable results occur if more than one
 * does, even if the database is not changed.  For example, typically there is
 * a global iterator for such a data base and that iterator is maintained by
 * libc, so that each new read from any thread advances it, meaning that no
 * thread will see all the entries.  The only way to make these thread-safe is
 * to have an exclusive lock on a mutex from the open call through the close.
 * This is beyond the current scope of this header.  You are advised to not
 * use such databases from more than one thread at a time.  The locking macros
 * here only are designed to make the individual function calls thread-safe
 * just for the duration of the call.  Comments at each definition tell what
 * other functions have races with that function.  Typically the functions
 * that fall into this class have races with other functions whose names begin
 * with "end", such as "endgrent()".
 *
 * Other examples of functions that use a global state include pseudo-random
 * number generators.  Some libc implementations of 'rand()', for example, may
 * share the data across threads; and others may have per-thread data.  The
 * shared ones will have unreproducible results, as the threads vary in their
 * timings and interactions.  This may be what you want; or it may not be.
 * (This particular function is a candidate to be removed from the POSIX
 * Standard because of these issues.)
 *
 * When one thread does a chdir(2), it affects the whole process, and any libc
 * call that is expecting a stable working directory will be adversely
 * affected.  The man pages only list one such call, nftw().  But there may
 * be other issues lurking.
 *
 * Functions that output to a stream also are considered thread-unsafe when
 * locking is not done.  But the typical consequences are just that the data
 * is output in unpredictable ways, which may be totally acceptable.  However,
 * it is beyond the scope of these macros to make sure that formatted output
 * uses a non-dot radix decimal point.  Use the
 * WITH_LC_NUMERIC_SET_TO_NEEDED() macro documented in perlapi to accomplish
 * this.
 *
 * The rest of the functions, when wrapped with their respective LOCK and
 * UNLOCK macros, should be thread-safe.
 *
 * However, some of these are not thread-safe if called with arguments that
 * don't comply with certain (easily-met) restrictions.  These are:
 *
 * ctermid  error_at_line  mbrtowc     mbsrtowcs  va_arg   wcsnrtombs  
 * cuserid  mbrlen         mbsnrtowcs  tmpnam     wcrtomb  wcsrtombs   
 *
 * The details on each restriction are documented below where their respective
 * locking macros are #defined.  The macros assume that the function is called
 * with the appropriate restrictions.
 *
 * The macros here do not help in coping with asynchronous signals.  For
 * these, you need to see the vendor man pages.  The functions here known to
 * be vulnerable to signals are:
 *
 * getlogin    getutid    getutxid    login    pututline   updwtmp  
 * getlogin_r  getutline  getutxline  logout   pututxline  wordexp  
 * getutent    getutxent  glob        logwtmp  sleep       
 *
 * Some libc's implement 'system()' thread-safely.  But in others, it also
 * has signal issues.
 *
 * There are better ways of accomplishing the same action for many of the
 * functions.  This can be for various reasons, but the most common ones are
 * either 1) there is an equivalent reentrant function with fewer (perhaps no)
 * races; and/or 2) the function involves locales, and Perl doesn't expose the
 * current underlying locale except within the scope of a "use locale"
 * statement.  Using the perl-furnished macros and functions hides all that
 * from you.
 *
 * Below is a list all such functions and their preferred alternatives.  Many
 * of these can be automatically selected for you.  That is, if you use a
 * function that has a preferred alternative, your code actually is compiled
 * to transparently use the preferred alternative instead.  This feature is
 * enabled by default for code in the Perl core and its extensions.  To enable
 * it in other XS modules,
 *
 *    #define PERL_REENTRANT
 *
 * In the list below, the functions you always have to manually substitute the
 * preferred version for are marked with an '@'.  Unmarked ones get their
 * preferred alternative automatically substituted for them when this feature
 * is enabled.  For these, it is better to use the unpreferred version, and
 * rely on this feature to do the right thing, in part because no substitution
 * is done if the alternative is not available on the platform nor if threads
 * aren't enabled.  You just write as if there weren't threads, and you get
 * the better behavior without having to think about it.  You still should
 * wrap your function calls with the locking macros #defined in this file.
 * These also are automatically changed by this feature to use the macros for
 * the selected alternative, which just might end up expanding to be a no-op.
 *
 * Even so, some of the preferred alternatives are considered obsolete or
 * otherwise unwise to use.  These are marked with a '?', and you need to look
 * elsewhere in this file for details.  Also, some alternatives aren't in the
 * POSIX Standard or aren't Perl-defined functions, so won't be widely
 * available.  These are marked with '~'.  (Remember that the automatic
 * substitution only happens when they are available, so you can just use the
 * unpreferred alternative.)
 *
 * If something you are using is on the list of problematic functions below,
 * you should examine the comments where the locking macros for it are
 * #defined.
 *
 *  asctime()           ?asctime_r()
 *  crypt()             ~crypt_r()
 *  ctermid()           ~ctermid_r()
 *  ctime()             ?ctime_r()
 *  endgrent()          ~endgrent_r()
 *  endhostent()        ~endhostent_r()
 *  endnetent()         ~endnetent_r()
 *  endprotoent()       ~endprotoent_r()
 *  endpwent()          ~endpwent_r()
 *  endservent()        ~endservent_r()
 * @getaliasbyname()     getaliasbyname_r()
 * @getaliasent()        getaliasent_r()
 *  getgrent()          ~getgrent_r()
 *  getgrgid()          ~getgrgid_r()
 *  getgrnam()          ~getgrnam_r()
 *  gethostbyaddr()     ?gethostbyaddr_r()
 *  gethostbyname()     ?gethostbyname_r()
 *  gethostent()        ~gethostent_r()
 *  getlogin()          ~getlogin_r()
 *  getnetbyaddr()      ~getnetbyaddr_r()
 *  getnetbyname()      ~getnetbyname_r()
 *  getnetent()         ~getnetent_r()
 *  getprotobyname()    ~getprotobyname_r()
 *  getprotobynumber()  ~getprotobynumber_r()
 *  getprotoent()       ~getprotoent_r()
 *  getpwent()          ~getpwent_r()
 *  getpwnam()          ~getpwnam_r()
 *  getpwuid()          ~getpwuid_r()
 * @getrpcbyname()       getrpcbyname_r()
 * @getrpcbynumber()     getrpcbynumber_r()
 * @getrpcent()          getrpcent_r()
 *  getservbyname()     ~getservbyname_r()
 *  getservbyport()     ~getservbyport_r()
 *  getservent()        ~getservent_r()
 *  getspnam()          ~getspnam_r()
 *  gmtime()            ~gmtime_r()
 * @isalnum()            a Perl isALNUM-family macro
 * @isalpha()            a Perl isALPHA-family macro
 * @isascii()            a Perl isASCII-family macro
 * @isblank()            a Perl isBLANK-family macro
 * @iscntrl()            a Perl isCNTRL-family macro
 * @isdigit()            a Perl isDIGIT-family macro
 * @isgraph()            a Perl isGRAPH-family macro
 * @islower()            a Perl isLOWER-family macro
 * @isprint()            a Perl isPRINT-family macro
 * @ispunct()            a Perl isPUNCT-family macro
 * @isspace()            a Perl isSPACE-family macro
 * @isupper()            a Perl isUPPER-family macro
 * @iswalnum()           a Perl isALNUM-family macro
 * @iswalpha()           a Perl isALPHA-family macro
 * @iswblank()           a Perl isBLANK-family macro
 * @iswcntrl()           a Perl isCNTRL-family macro
 * @iswdigit()           a Perl isDIGIT-family macro
 * @iswgraph()           a Perl isGRAPH-family macro
 * @iswlower()           a Perl isLOWER-family macro
 * @iswprint()           a Perl isPRINT-family macro
 * @iswpunct()           a Perl isPUNCT-family macro
 * @iswspace()           a Perl isSPACE-family macro
 * @iswupper()           a Perl isUPPER-family macro
 * @iswxdigit()          a Perl isXDIGIT-family macro
 * @isxdigit()           a Perl isXDIGIT-family macro
 * @localeconv()         Perl_localeconv()
 *  localtime()         ~localtime_r()
 * @mblen()              mbrlen()
 * @mbtowc()             mbrtowc()
 *  readdir()           ~readdir_r()
 *  readdir64()         ~readdir64_r()
 *  setgrent()          ~setgrent_r()
 *  sethostent()        ~sethostent_r()
 *  setlocale()         ~setlocale_r()
 * @setlocale()          Perl_setlocale()
 * @setlocale_r()        Perl_setlocale()
 *  setnetent()         ~setnetent_r()
 *  setprotoent()       ~setprotoent_r()
 *  setpwent()          ~setpwent_r()
 *  setservent()        ~setservent_r()
 *  strerror()          ~strerror_r()
 * @strftime()           Perl_sv_strftime_tm() or Perl_sv_strftime_ints()
 * @strtok()             strtok_r()
 *  tmpnam()            ?tmpnam_r()
 * @tolower()            a Perl toLOWER-family macro
 * @tolower_l()          a Perl toLOWER-family macro
 * @toupper()            a Perl toUPPER-family macro
 * @toupper_l()          a Perl toUPPER-family macro
 * @towlower()           a Perl toLOWER-family macro
 * @towlower_l()         a Perl toLOWER-family macro
 * @towupper()           a Perl toUPPER-family macro
 * @towupper_l()         a Perl toUPPER-family macro
 *  ttyname()            ttyname_r()
 * @wctob()              wctomb() or wcrtomb()
 * @wctomb()             wcrtomb()
 *
 * And there are other functions that are problematic in some way other than
 * those already given.  Please refer to their respective lock definitions
 * below for any caveats (or more information) for functions in this list: 
 *
 * addmntent          getaliasent_r         hdestroy_r         rexec_af
 * asprintf           getchar_unlocked      hsearch_r          rpmatch
 * clearerr_unlocked  getc_unlocked         inet_aton          ruserok
 * crypt_gensalt      get_current_dir_name  inet_network       ruserok_af
 * drand48_r          getdate_r             initgroups         secure_getenv
 * endaliasent        getfsent              initstate_r        seed48_r
 * endfsent           getfsfile             innetgr            setaliasent
 * endgrent_r         getfsspec             iruserok           setfsent
 * endhostent_r       getgrent_r            iruserok_af        setgrent_r
 * endnetent_r        getgrouplist          isascii            sethostent_r
 * endnetgrent        gethostbyaddr         isascii_l          setlocale_r
 * endprotoent_r      gethostbyaddr_r       jrand48_r          setnetent_r
 * endpwent_r         gethostbyname         lcong48_r          setnetgrent
 * endrpcent          gethostbyname2        login              setprotoent_r
 * endservent_r       gethostbyname2_r      login_tty          setpwent_r
 * endspent           gethostbyname_r       logout             setrpcent
 * endttyent          getmntent             logwtmp            setservent_r
 * endusershell       getmntent_r           lrand48_r          setspent
 * endutent           getnetbyaddr_r        mallinfo           setstate_r
 * erand48_r          getnetbyname_r        mcheck             setttyent
 * err                getnetent_r           mcheck_check_all   setusershell
 * error              getnetgrent           mcheck_pedantic    setutent
 * error_at_line      getnetgrent_r         mprobe             sgetspent
 * errx               getopt_long           mrand48_r          sgetspent_r
 * ether_aton         getopt_long_only      mtrace             srand48_r
 * ether_ntoa         getpass               muntrace           srandom_r
 * execvpe            getprotobyname_r      nftw               ssignal
 * __fbufsize         getprotobynumber_r    nrand48_r          strcasecmp
 * fcloseall          getprotoent_r         openpty            strcasestr
 * fflush_unlocked    getpw                 posix_fallocate    strfromd
 * fgetc_unlocked     getpwent_r            profil             strfromf
 * fgetgrent          getrpcbyname          putchar_unlocked   strfroml
 * fgetpwent          getrpcbyname_r        putc_unlocked      strncasecmp
 * fgetspent          getrpcbynumber        putspent           strtoq
 * fgets_unlocked     getrpcbynumber_r      pututline          strtouq
 * fgetwc_unlocked    getrpcent             putwchar_unlocked  strverscmp
 * fgetws_unlocked    getrpcent_r           putwc_unlocked     system
 * forkpty            getrpcport            pvalloc            timegm
 * __fpending         getservbyname_r       qecvt              timelocal
 * __fpurge           getservbyport_r       qfcvt              tmpnam_r
 * fputc_unlocked     getservent_r          rand               ttyslot
 * fputs_unlocked     getspent              random_r           twalk_r
 * fputwc_unlocked    getspent_r            rcmd               updwtmp
 * fputws_unlocked    getspnam              rcmd_af            utmpname
 * fread_unlocked     getspnam_r            readdir_r          valloc
 * __fsetlocking      getttyent             re_comp            vasprintf
 * fts_children       getttynam             re_exec            verr
 * fts_read           getusershell          res_nclose         verrx
 * fwrite_unlocked    getutent              res_ninit          versionsort
 * gammaf             getutid               res_nquery         vsyslog
 * gammal             getutline             res_nquerydomain   vwarn
 * getaliasbyname     getwchar_unlocked     res_nsearch        vwarnx
 * getaliasbyname_r   getwc_unlocked        res_nsend          warn
 * getaliasent        hcreate_r             rexec              warnx
 *
 * In addition, the locale-related functions introduced in POSIX 2008 are not
 * portable to platforms that don't support them; for example any Windows one.
 * Perl has extensive code to hide the differences from your code.  You should
 * be using Perl_setlocale() to change and query the locale; and don't use
 * functions like uselocale(), or any function that takes a locale_t parameter
 * (typically such functions have the suffix "_l" in their names).  Keep in
 * mind that the current locale is assumed to be "C" for all Perl programs
 * except within the scope of "use locale", or when calling certain functions
 * in the POSIX module.  The perl core sorts all of this out for you; most
 * functions that deal directly with locale information should not be used.
 *
 * In theory, you should wrap every instance of every function listed here
 * with its corresponding LOCK/UNLOCK macros, except as noted above.  The
 * macros here all should expand to no-ops when run from an unthreaded perl.
 * Many also expand to no-ops on various other platforms and Configurations.
 * They exist so you you don't have to worry about this.  Some definitions are
 * no-ops in all current cases, but you should wrap their functions anyway, as
 * future work likely will yield Configurations where they aren't just no-ops.
 *
 * You may override any definitions here simply by #defining your own before
 * #including this file (which likely means before #including perl.h).
 *
 * Best practice is to call the LOCK macro; call the function and copy the
 * result to a per-thread place if that result points to a buffer internal to
 * libc; then UNLOCK it immediately.  After that, you can act on the result.
 *
 * The macros here are generated from an internal DATA section in
 * regen/lock_definitions.pl, populated from information derived from the
 * POSIX 2017 Standard and Linux glibc section 3 man pages (supplemented by
 * other vendor's man pages).  (Linux tends to have extra restrictions not in
 * the Standard, and its man pages are typically more detailed than the
 * Standard and other vendors, who may also have the same restrictions, but
 * just don't document them.) The data can easily be adjusted as necessary.
 *
 * The macros generated here expand to other macro calls that are expected to
 * be #defined in perl.h, depending on the platform and Configuration.  Many
 * of the thread vulnerabilities involve the program's environment and locale,
 * so perl has separate mutexes for each of those two types of access.  There
 * are a few others, all rare or obsolete.   There are also many races, where
 * certain functions concurrently executing in different threads can interfere
 * with each other unpredictably.  This header file currently lumps all races
 * and non-environment/locale vulnerabilities into a third, generic, mutex.
 * So the macro names are various combinations of the three mutexes, and
 * whether the lock needs to be exclusive (suffix "x" in the lock name) or
 * non-exclusive (suffix "r" for read-only).  GEN means the generic mutex; ENV
 * the environment one; and LC the locale one.
 *
 * The lumping into the single generic mutex is due to the expectation that
 * such calls are infrequent enough that having a single mutex for all won't
 * noticeably affect performance, and that the more mutexes you have, the more
 * likely deadlock can occur.  Individual cases could be separated into
 * separate mutexes if necessary.  perl.h takes further steps in the expansion
 * of these macros to avoid deadlock altogether.
 */

/* The macros that include locale locking need to know (in some
 * Configurations) which locale categories are affected.  This is done by
 * passing a bit mask argument to them, with each affected category having a
 * corresponding bit set.  The definitions below convert from category to its
 * bit position. */
#define LC_ALLb_  LC_INDEX_TO_BIT_(LC_ALL_INDEX_)

/*  On platforms where the locale for a given category must be matched by the
 *  LC_CTYPE locale to avoid potential mojibake, set things up to also
 *  automatically include the LC_CTYPE bit. */
#if defined(LC_CTYPE) && defined(PERL_MUST_DEAL_WITH_MISMATCHED_CTYPE)
#  define INCLUDE_CTYPE_  LC_INDEX_TO_BIT_(LC_CTYPE_INDEX_)
#else
#  define INCLUDE_CTYPE_  0
#endif

/* Then #define the bit position for each category on the system that can play
 * a part in the locking macro definitions */
#ifdef LC_COLLATE
#  define LC_COLLATEb_  LC_INDEX_TO_BIT_(LC_COLLATE_INDEX_)|INCLUDE_CTYPE_
#else
#  define LC_COLLATEb_  LC_ALLb_
#endif
#ifdef LC_CTYPE
#  define LC_CTYPEb_  LC_INDEX_TO_BIT_(LC_CTYPE_INDEX_)|INCLUDE_CTYPE_
#else
#  define LC_CTYPEb_  LC_ALLb_
#endif
#ifdef LC_MESSAGES
#  define LC_MESSAGESb_  LC_INDEX_TO_BIT_(LC_MESSAGES_INDEX_)|INCLUDE_CTYPE_
#else
#  define LC_MESSAGESb_  LC_ALLb_
#endif
#ifdef LC_MONETARY
#  define LC_MONETARYb_  LC_INDEX_TO_BIT_(LC_MONETARY_INDEX_)|INCLUDE_CTYPE_
#else
#  define LC_MONETARYb_  LC_ALLb_
#endif
#ifdef LC_NUMERIC
#  define LC_NUMERICb_  LC_INDEX_TO_BIT_(LC_NUMERIC_INDEX_)|INCLUDE_CTYPE_
#else
#  define LC_NUMERICb_  LC_ALLb_
#endif
#ifdef LC_TIME
#  define LC_TIMEb_  LC_INDEX_TO_BIT_(LC_TIME_INDEX_)|INCLUDE_CTYPE_
#else
#  define LC_TIMEb_  LC_ALLb_
#endif

/* Then finally the locking macros */

#ifndef ADDMNTENT_LOCK

   /* addmntent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * addmntent() has potential races with other threads concurrently
    *             executing any of: itself, clearerr_unlocked(), __fbufsize(),
    *             fflush_unlocked(), fgetc_unlocked(), fgets_unlocked(),
    *             fgetwc_unlocked(), fgetws_unlocked(), __fpending(),
    *             __fpurge(), fputc_unlocked(), fputs_unlocked(),
    *             fputwc_unlocked(), fputws_unlocked(), fread_unlocked(),
    *             __fsetlocking(), fwrite_unlocked(), getc_unlocked(),
    *             getwc_unlocked(), putc_unlocked(), or putwc_unlocked(). */
#  define ADDMNTENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ADDMNTENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ALPHASORT_LOCK
#  define ALPHASORT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ALPHASORT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ASCTIME_LOCK

   /* asctime() Obsolete; use Perl_sv_strftime_tm() instead
    * asctime() has potential races with other threads concurrently executing
    *           either itself or ctime. */
#  define ASCTIME_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ASCTIME_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ASCTIME_R_LOCK

   /* asctime_r() Obsolete; use Perl_sv_strftime_tm() instead */
#  define ASCTIME_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ASCTIME_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ASPRINTF_LOCK

   /* asprintf() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define ASPRINTF_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ASPRINTF_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ATOF_LOCK
#  define ATOF_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ATOF_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ATOI_LOCK
#  define ATOI_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define ATOI_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef ATOL_LOCK
#  define ATOL_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define ATOL_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef ATOLL_LOCK
#  define ATOLL_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define ATOLL_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef BASENAME_LOCK
#  ifndef __GLIBC__
#    define BASENAME_LOCK    GENx_LOCK_
#    define BASENAME_UNLOCK  GENx_UNLOCK_
#  else
#    define BASENAME_LOCK    NOOP
#    define BASENAME_UNLOCK  NOOP
#  endif
#endif

#ifndef BTOWC_LOCK
#  define BTOWC_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define BTOWC_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef CATGETS_LOCK
#  ifndef __GLIBC__
#    define CATGETS_LOCK    GENx_LOCK_
#    define CATGETS_UNLOCK  GENx_UNLOCK_
#  else
#    define CATGETS_LOCK    NOOP
#    define CATGETS_UNLOCK  NOOP
#  endif
#endif

#ifndef CATOPEN_LOCK
#  define CATOPEN_LOCK    ENVr_LCr_LOCK_(  LC_MESSAGESb_)
#  define CATOPEN_UNLOCK  ENVr_LCr_UNLOCK_(LC_MESSAGESb_)
#endif

#ifndef CLEARENV_LOCK
#  define CLEARENV_LOCK    ENVx_LOCK_
#  define CLEARENV_UNLOCK  ENVx_UNLOCK_
#endif

#ifndef CLEARERR_UNLOCKED_LOCK

   /* clearerr_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                     locked the stream, but should not be used since not
    *                     standardized and not widely implemented
    * clearerr_unlocked() has never been in the POSIX Standard, or was removed
    *                     as of POSIX 2001
    * clearerr_unlocked() has potential races with other threads concurrently
    *                     executing any of: itself, addmntent(), __fbufsize(),
    *                     fflush_unlocked(), fgetc_unlocked(),
    *                     fgets_unlocked(), fgetwc_unlocked(),
    *                     fgetws_unlocked(), __fpending(), __fpurge(),
    *                     fputc_unlocked(), fputs_unlocked(),
    *                     fputwc_unlocked(), fputws_unlocked(),
    *                     fread_unlocked(), __fsetlocking(),
    *                     fwrite_unlocked(), getc_unlocked(),
    *                     getwc_unlocked(), putc_unlocked(), or
    *                     putwc_unlocked(). */
#  define CLEARERR_UNLOCKED_LOCK    GENx_LOCK_
#  define CLEARERR_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef CRYPT_LOCK

   /* crypt() has potential races with other threads concurrently executing
    *         any of: itself, encrypt(), or setkey(). */
#  define CRYPT_LOCK    GENx_LOCK_
#  define CRYPT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef CRYPT_GENSALT_LOCK

   /* crypt_gensalt() has never been in the POSIX Standard, or was removed as
    *                 of POSIX 2001 */
#  define CRYPT_GENSALT_LOCK    GENx_LOCK_
#  define CRYPT_GENSALT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef CRYPT_R_LOCK

   /* crypt_r() Obsolete */
#  define CRYPT_R_LOCK    NOOP
#  define CRYPT_R_UNLOCK  NOOP
#endif

#ifndef CTERMID_LOCK
#  ifndef __GLIBC__

     /* ctermid() locking macros are only valid if '!s' */
#    define CTERMID_LOCK    NOOP
#    define CTERMID_UNLOCK  NOOP
#  else
#    define CTERMID_LOCK    NOOP
#    define CTERMID_UNLOCK  NOOP
#  endif
#endif

#ifndef CTERMID_R_LOCK
#  define CTERMID_R_LOCK    NOOP
#  define CTERMID_R_UNLOCK  NOOP
#endif

#ifndef CTIME_LOCK

   /* ctime() Obsolete; use Perl_sv_strftime_ints() instead
    * ctime() has potential races with other threads concurrently executing
    *         any of: itself, asctime(), ctime_r(), daylight(), gmtime(),
    *         localtime(), localtime_r(), mktime(), strftime(), timezone(),
    *         tzname(), or tzset(). */
#  define CTIME_LOCK    GENx_ENVr_LCr_LOCK_(  LC_TIMEb_)
#  define CTIME_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_TIMEb_)
#endif

#ifndef CTIME_R_LOCK

   /* ctime_r() Obsolete; use Perl_sv_strftime_ints() instead
    * ctime_r() has potential races with other threads concurrently executing
    *           any of: itself, ctime(), daylight(), localtime(),
    *           localtime_r(), mktime(), strftime(), timezone(), tzname(), or
    *           tzset(). */
#  define CTIME_R_LOCK    GENx_ENVr_LCr_LOCK_(  LC_TIMEb_)
#  define CTIME_R_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_TIMEb_)
#endif

#ifndef CUSERID_LOCK

   /* cuserid() locking macros are only valid if '!string' */
#  define CUSERID_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define CUSERID_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef DAYLIGHT_LOCK

   /* daylight has potential races with other threads concurrently executing
    *          any of: itself, ctime(), ctime_r(), localtime(), localtime_r(),
    *          mktime(), strftime(), timezone(), tzname(), or tzset(). */
#  define DAYLIGHT_LOCK    GENx_LOCK_
#  define DAYLIGHT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_CLEARERR_LOCK
#  define DBM_CLEARERR_LOCK    GENx_LOCK_
#  define DBM_CLEARERR_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_CLOSE_LOCK
#  define DBM_CLOSE_LOCK    GENx_LOCK_
#  define DBM_CLOSE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_DELETE_LOCK
#  define DBM_DELETE_LOCK    GENx_LOCK_
#  define DBM_DELETE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_ERROR_LOCK
#  define DBM_ERROR_LOCK    GENx_LOCK_
#  define DBM_ERROR_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_FETCH_LOCK
#  define DBM_FETCH_LOCK    GENx_LOCK_
#  define DBM_FETCH_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_FIRSTKEY_LOCK
#  define DBM_FIRSTKEY_LOCK    GENx_LOCK_
#  define DBM_FIRSTKEY_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_NEXTKEY_LOCK
#  define DBM_NEXTKEY_LOCK    GENx_LOCK_
#  define DBM_NEXTKEY_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_OPEN_LOCK
#  define DBM_OPEN_LOCK    GENx_LOCK_
#  define DBM_OPEN_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DBM_STORE_LOCK
#  define DBM_STORE_LOCK    GENx_LOCK_
#  define DBM_STORE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DIRNAME_LOCK
#  ifndef __GLIBC__
#    define DIRNAME_LOCK    LCr_LOCK_(  LC_ALLb_)
#    define DIRNAME_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#  else
#    define DIRNAME_LOCK    NOOP
#    define DIRNAME_UNLOCK  NOOP
#  endif
#endif

#ifndef DLERROR_LOCK
#  ifndef __GLIBC__
#    define DLERROR_LOCK    GENx_LOCK_
#    define DLERROR_UNLOCK  GENx_UNLOCK_
#  else
#    define DLERROR_LOCK    NOOP
#    define DLERROR_UNLOCK  NOOP
#  endif
#endif

#ifndef DPRINTF_LOCK
#  define DPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define DPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef DRAND48_LOCK

   /* drand48() has potential races with other threads concurrently executing
    *           any of: itself, erand48(), jrand48(), lcong48(), lrand48(),
    *           mrand48(), nrand48(), seed48(), or srand48(). */
#  define DRAND48_LOCK    GENx_LOCK_
#  define DRAND48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef DRAND48_R_LOCK

   /* drand48_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * drand48_r() has potential races with other threads concurrently
    *             executing any of: itself, erand48_r(), jrand48_r(),
    *             lcong48_r(), lrand48_r(), mrand48_r(), nrand48_r(),
    *             seed48_r(), or srand48_r(). */
#  define DRAND48_R_LOCK    GENx_LOCK_
#  define DRAND48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ECVT_LOCK

   /* ecvt() Obsolete; use snprintf() instead */
#  define ECVT_LOCK    GENx_LOCK_
#  define ECVT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ENCRYPT_LOCK

   /* encrypt() has potential races with other threads concurrently executing
    *           any of: itself, crypt(), or setkey(). */
#  define ENCRYPT_LOCK    GENx_LOCK_
#  define ENCRYPT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ENDALIASENT_LOCK

   /* endaliasent() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define ENDALIASENT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ENDALIASENT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDFSENT_LOCK

   /* endfsent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * endfsent() has potential races with other threads concurrently executing
    *            any of: itself, getfsent(), getfsfile(), getfsspec(), or
    *            setfsent(). */
#  define ENDFSENT_LOCK    GENx_LOCK_
#  define ENDFSENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ENDGRENT_LOCK

   /* endgrent() has potential races with other threads concurrently executing
    *            any of: itself, endgrent_r(), getgrent(), getgrent_r(),
    *            setgrent(), or setgrent_r(). */
#  define ENDGRENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDGRENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDGRENT_R_LOCK

   /* endgrent_r() Obsolete
    * endgrent_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * endgrent_r() has potential races with other threads concurrently
    *              executing any of: itself, endgrent(), getgrent(),
    *              getgrent_r(), setgrent(), or setgrent_r(). */
#  define ENDGRENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDGRENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDHOSTENT_LOCK

   /* endhostent() has potential races with other threads concurrently
    *              executing any of: itself, endhostent_r(), gethostent(),
    *              gethostent_r(), sethostent(), or sethostent_r(). */
#  define ENDHOSTENT_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define ENDHOSTENT_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDHOSTENT_R_LOCK

   /* endhostent_r() Obsolete
    * endhostent_r() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001
    * endhostent_r() has potential races with other threads concurrently
    *                executing any of: itself, endhostent(), gethostent(),
    *                gethostent_r(), sethostent(), or sethostent_r(). */
#  define ENDHOSTENT_R_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define ENDHOSTENT_R_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDNETENT_LOCK

   /* endnetent() has potential races with other threads concurrently
    *             executing any of: itself, endnetent_r(), getnetent(),
    *             setnetent(), or setnetent_r(). */
#  define ENDNETENT_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define ENDNETENT_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDNETENT_R_LOCK

   /* endnetent_r() Obsolete
    * endnetent_r() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001
    * endnetent_r() has potential races with other threads concurrently
    *               executing any of: itself, endnetent(), getnetent(),
    *               setnetent(), or setnetent_r(). */
#  define ENDNETENT_R_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define ENDNETENT_R_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDNETGRENT_LOCK

   /* endnetgrent() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001
    * endnetgrent() has potential races with other threads concurrently
    *               executing any of: itself, getnetgrent(), getnetgrent_r(),
    *               innetgr(), or setnetgrent(). */
#  define ENDNETGRENT_LOCK    GENx_LOCK_
#  define ENDNETGRENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ENDPROTOENT_LOCK

   /* endprotoent() has potential races with other threads concurrently
    *               executing any of: itself, endprotoent_r(), getprotoent(),
    *               setprotoent(), or setprotoent_r(). */
#  define ENDPROTOENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDPROTOENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDPROTOENT_R_LOCK

   /* endprotoent_r() Obsolete
    * endprotoent_r() has never been in the POSIX Standard, or was removed as
    *                 of POSIX 2001
    * endprotoent_r() has potential races with other threads concurrently
    *                 executing any of: itself, endprotoent(), getprotoent(),
    *                 setprotoent(), or setprotoent_r(). */
#  define ENDPROTOENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDPROTOENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDPWENT_LOCK

   /* endpwent() has potential races with other threads concurrently executing
    *            any of: itself, endpwent_r(), getpwent(), getpwent_r(),
    *            setpwent(), or setpwent_r(). */
#  define ENDPWENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDPWENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDPWENT_R_LOCK

   /* endpwent_r() Obsolete
    * endpwent_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * endpwent_r() has potential races with other threads concurrently
    *              executing any of: itself, endpwent(), getpwent(),
    *              getpwent_r(), setpwent(), or setpwent_r(). */
#  define ENDPWENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDPWENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDRPCENT_LOCK

   /* endrpcent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define ENDRPCENT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ENDRPCENT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDSERVENT_LOCK

   /* endservent() has potential races with other threads concurrently
    *              executing any of: itself, endservent_r(), getservent(),
    *              setservent(), or setservent_r(). */
#  define ENDSERVENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDSERVENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDSERVENT_R_LOCK

   /* endservent_r() Obsolete
    * endservent_r() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001
    * endservent_r() has potential races with other threads concurrently
    *                executing any of: itself, endservent(), getservent(),
    *                setservent(), or setservent_r(). */
#  define ENDSERVENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDSERVENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDSPENT_LOCK

   /* endspent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * endspent() has potential races with other threads concurrently executing
    *            any of: itself, getspent(), getspent_r(), or setspent(). */
#  define ENDSPENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define ENDSPENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ENDTTYENT_LOCK

   /* endttyent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * endttyent() has potential races with other threads concurrently
    *             executing any of: itself, getttyent(), getttynam(), or
    *             setttyent(). */
#  define ENDTTYENT_LOCK    GENx_LOCK_
#  define ENDTTYENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ENDUSERSHELL_LOCK

   /* endusershell() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001 */
#  define ENDUSERSHELL_LOCK                              \
#    error_endusershell_not_suitable_for_multi-threaded_operation
#endif

#ifndef ENDUTENT_LOCK

   /* endutent() Obsolete; use endutxent() instead
    * endutent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * endutent() has potential races with other threads concurrently executing
    *            any of: itself, endutxent(), getlogin(), getlogin_r(),
    *            getutent(), getutid(), getutline(), getutxent(), getutxid(),
    *            getutxline(), glob(), login(), logout(), pututline(),
    *            pututxline(), setutent(), setutxent(), utmpname(), or
    *            wordexp(). */
#  define ENDUTENT_LOCK    GENx_LOCK_
#  define ENDUTENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ENDUTXENT_LOCK

   /* endutxent() has potential races with other threads concurrently
    *             executing any of: itself, endutent(), getlogin(),
    *             getlogin_r(), getutent(), getutid(), getutline(),
    *             getutxent(), getutxid(), getutxline(), glob(), login(),
    *             logout(), pututline(), pututxline(), setutent(),
    *             setutxent(), utmpname(), or wordexp(). */
#  define ENDUTXENT_LOCK    GENx_LOCK_
#  define ENDUTXENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ERAND48_LOCK

   /* erand48() has potential races with other threads concurrently executing
    *           any of: itself, drand48(), jrand48(), lcong48(), lrand48(),
    *           mrand48(), nrand48(), seed48(), or srand48(). */
#  define ERAND48_LOCK    GENx_LOCK_
#  define ERAND48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ERAND48_R_LOCK

   /* erand48_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * erand48_r() has potential races with other threads concurrently
    *             executing any of: itself, drand48_r(), jrand48_r(),
    *             lcong48_r(), lrand48_r(), mrand48_r(), nrand48_r(),
    *             seed48_r(), or srand48_r(). */
#  define ERAND48_R_LOCK    GENx_LOCK_
#  define ERAND48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ERR_LOCK

   /* err() has never been in the POSIX Standard, or was removed as of POSIX
    *       2001 */
#  define ERR_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ERR_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ERROR_LOCK

   /* error() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001 */
#  define ERROR_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ERROR_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ERROR_AT_LINE_LOCK

   /* error_at_line() has never been in the POSIX Standard, or was removed as
    *                 of POSIX 2001
    * error_at_line() locking macros are only valid if 'error_one_per_line' */
#  define ERROR_AT_LINE_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ERROR_AT_LINE_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ERRX_LOCK

   /* errx() has never been in the POSIX Standard, or was removed as of POSIX
    *        2001 */
#  define ERRX_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ERRX_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ETHER_ATON_LOCK

   /* ether_aton() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define ETHER_ATON_LOCK                              \
#    error_ether_aton_not_suitable_for_multi-threaded_operation
#endif

#ifndef ETHER_NTOA_LOCK

   /* ether_ntoa() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define ETHER_NTOA_LOCK                              \
#    error_ether_ntoa_not_suitable_for_multi-threaded_operation
#endif

#ifndef EXECLP_LOCK
#  define EXECLP_LOCK    ENVr_LOCK_
#  define EXECLP_UNLOCK  ENVr_UNLOCK_
#endif

#ifndef EXECVP_LOCK
#  define EXECVP_LOCK    ENVr_LOCK_
#  define EXECVP_UNLOCK  ENVr_UNLOCK_
#endif

#ifndef EXECVPE_LOCK

   /* execvpe() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define EXECVPE_LOCK    ENVr_LOCK_
#  define EXECVPE_UNLOCK  ENVr_UNLOCK_
#endif

#ifndef EXIT_LOCK
#  define EXIT_LOCK    GENx_LOCK_
#  define EXIT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef __FBUFSIZE_LOCK

   /* __fbufsize() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * __fbufsize() has potential races with other threads concurrently
    *              executing any of: itself, addmntent(), clearerr_unlocked(),
    *              fflush_unlocked(), fgetc_unlocked(), fgets_unlocked(),
    *              fgetwc_unlocked(), fgetws_unlocked(), __fpending(),
    *              __fpurge(), fputc_unlocked(), fputs_unlocked(),
    *              fputwc_unlocked(), fputws_unlocked(), fread_unlocked(),
    *              __fsetlocking(), fwrite_unlocked(), getc_unlocked(),
    *              getwc_unlocked(), putc_unlocked(), or putwc_unlocked(). */
#  define __FBUFSIZE_LOCK    GENx_LOCK_
#  define __FBUFSIZE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FCLOSEALL_LOCK

   /* fcloseall() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define FCLOSEALL_LOCK    GENx_LOCK_
#  define FCLOSEALL_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FCVT_LOCK

   /* fcvt() Obsolete; use snprintf() instead */
#  define FCVT_LOCK    GENx_LOCK_
#  define FCVT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FFLUSH_UNLOCKED_LOCK

   /* fflush_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                   locked the stream, but should not be used since not
    *                   standardized and not widely implemented
    * fflush_unlocked() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001
    * fflush_unlocked() has potential races with other threads concurrently
    *                   executing any of: itself, addmntent(),
    *                   clearerr_unlocked(), __fbufsize(), fgetc_unlocked(),
    *                   fgets_unlocked(), fgetwc_unlocked(),
    *                   fgetws_unlocked(), __fpending(), __fpurge(),
    *                   fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                   fputws_unlocked(), fread_unlocked(), __fsetlocking(),
    *                   fwrite_unlocked(), getc_unlocked(), getwc_unlocked(),
    *                   putc_unlocked(), or putwc_unlocked(). */
#  define FFLUSH_UNLOCKED_LOCK    GENx_LOCK_
#  define FFLUSH_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FGETC_UNLOCKED_LOCK

   /* fgetc_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                  locked the stream, but should not be used since not
    *                  standardized and not widely implemented
    * fgetc_unlocked() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001
    * fgetc_unlocked() has potential races with other threads concurrently
    *                  executing any of: itself, addmntent(),
    *                  clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                  fgets_unlocked(), fgetwc_unlocked(), fgetws_unlocked(),
    *                  __fpending(), __fpurge(), fputc_unlocked(),
    *                  fputs_unlocked(), fputwc_unlocked(), fputws_unlocked(),
    *                  fread_unlocked(), __fsetlocking(), fwrite_unlocked(),
    *                  getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                  putwc_unlocked(). */
#  define FGETC_UNLOCKED_LOCK    GENx_LOCK_
#  define FGETC_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FGETGRENT_LOCK

   /* fgetgrent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define FGETGRENT_LOCK    GENx_LOCK_
#  define FGETGRENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FGETPWENT_LOCK

   /* fgetpwent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define FGETPWENT_LOCK    GENx_LOCK_
#  define FGETPWENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FGETSPENT_LOCK

   /* fgetspent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define FGETSPENT_LOCK    GENx_LOCK_
#  define FGETSPENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FGETS_UNLOCKED_LOCK

   /* fgets_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                  locked the stream, but should not be used since not
    *                  standardized and not widely implemented
    * fgets_unlocked() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001
    * fgets_unlocked() has potential races with other threads concurrently
    *                  executing any of: itself, addmntent(),
    *                  clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                  fgetc_unlocked(), fgetwc_unlocked(), fgetws_unlocked(),
    *                  __fpending(), __fpurge(), fputc_unlocked(),
    *                  fputs_unlocked(), fputwc_unlocked(), fputws_unlocked(),
    *                  fread_unlocked(), __fsetlocking(), fwrite_unlocked(),
    *                  getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                  putwc_unlocked(). */
#  define FGETS_UNLOCKED_LOCK    GENx_LOCK_
#  define FGETS_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FGETWC_LOCK
#  define FGETWC_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define FGETWC_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef FGETWC_UNLOCKED_LOCK

   /* fgetwc_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                   locked the stream, but should not be used since not
    *                   standardized and not widely implemented
    * fgetwc_unlocked() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001
    * fgetwc_unlocked() has potential races with other threads concurrently
    *                   executing any of: itself, addmntent(),
    *                   clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                   fgetc_unlocked(), fgets_unlocked(), fgetws_unlocked(),
    *                   __fpending(), __fpurge(), fputc_unlocked(),
    *                   fputs_unlocked(), fputwc_unlocked(),
    *                   fputws_unlocked(), fread_unlocked(), __fsetlocking(),
    *                   fwrite_unlocked(), getc_unlocked(), getwc_unlocked(),
    *                   putc_unlocked(), or putwc_unlocked(). */
#  define FGETWC_UNLOCKED_LOCK    GENx_LOCK_
#  define FGETWC_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FGETWS_LOCK
#  define FGETWS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define FGETWS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef FGETWS_UNLOCKED_LOCK

   /* fgetws_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                   locked the stream, but should not be used since not
    *                   standardized and not widely implemented
    * fgetws_unlocked() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001
    * fgetws_unlocked() has potential races with other threads concurrently
    *                   executing any of: itself, addmntent(),
    *                   clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                   fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                   __fpending(), __fpurge(), fputc_unlocked(),
    *                   fputs_unlocked(), fputwc_unlocked(),
    *                   fputws_unlocked(), fread_unlocked(), __fsetlocking(),
    *                   fwrite_unlocked(), getc_unlocked(), getwc_unlocked(),
    *                   putc_unlocked(), or putwc_unlocked(). */
#  define FGETWS_UNLOCKED_LOCK    GENx_LOCK_
#  define FGETWS_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FNMATCH_LOCK
#  define FNMATCH_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define FNMATCH_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef FORKPTY_LOCK

   /* forkpty() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define FORKPTY_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define FORKPTY_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef __FPENDING_LOCK

   /* __fpending() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * __fpending() has potential races with other threads concurrently
    *              executing any of: itself, addmntent(), clearerr_unlocked(),
    *              __fbufsize(), fflush_unlocked(), fgetc_unlocked(),
    *              fgets_unlocked(), fgetwc_unlocked(), fgetws_unlocked(),
    *              __fpurge(), fputc_unlocked(), fputs_unlocked(),
    *              fputwc_unlocked(), fputws_unlocked(), fread_unlocked(),
    *              __fsetlocking(), fwrite_unlocked(), getc_unlocked(),
    *              getwc_unlocked(), putc_unlocked(), or putwc_unlocked(). */
#  define __FPENDING_LOCK    GENx_LOCK_
#  define __FPENDING_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FPRINTF_LOCK
#  define FPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define FPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef __FPURGE_LOCK

   /* __fpurge() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * __fpurge() has potential races with other threads concurrently executing
    *            any of: itself, addmntent(), clearerr_unlocked(),
    *            __fbufsize(), fflush_unlocked(), fgetc_unlocked(),
    *            fgets_unlocked(), fgetwc_unlocked(), fgetws_unlocked(),
    *            __fpending(), fputc_unlocked(), fputs_unlocked(),
    *            fputwc_unlocked(), fputws_unlocked(), fread_unlocked(),
    *            __fsetlocking(), fwrite_unlocked(), getc_unlocked(),
    *            getwc_unlocked(), putc_unlocked(), or putwc_unlocked(). */
#  define __FPURGE_LOCK    GENx_LOCK_
#  define __FPURGE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FPUTC_UNLOCKED_LOCK

   /* fputc_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                  locked the stream, but should not be used since not
    *                  standardized and not widely implemented
    * fputc_unlocked() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001
    * fputc_unlocked() has potential races with other threads concurrently
    *                  executing any of: itself, addmntent(),
    *                  clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                  fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                  fgetws_unlocked(), __fpending(), __fpurge(),
    *                  fputs_unlocked(), fputwc_unlocked(), fputws_unlocked(),
    *                  fread_unlocked(), __fsetlocking(), fwrite_unlocked(),
    *                  getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                  putwc_unlocked(). */
#  define FPUTC_UNLOCKED_LOCK    GENx_LOCK_
#  define FPUTC_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FPUTS_UNLOCKED_LOCK

   /* fputs_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                  locked the stream, but should not be used since not
    *                  standardized and not widely implemented
    * fputs_unlocked() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001
    * fputs_unlocked() has potential races with other threads concurrently
    *                  executing any of: itself, addmntent(),
    *                  clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                  fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                  fgetws_unlocked(), __fpending(), __fpurge(),
    *                  fputc_unlocked(), fputwc_unlocked(), fputws_unlocked(),
    *                  fread_unlocked(), __fsetlocking(), fwrite_unlocked(),
    *                  getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                  putwc_unlocked(). */
#  define FPUTS_UNLOCKED_LOCK    GENx_LOCK_
#  define FPUTS_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FPUTWC_LOCK
#  define FPUTWC_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define FPUTWC_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef FPUTWC_UNLOCKED_LOCK

   /* fputwc_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                   locked the stream, but should not be used since not
    *                   standardized and not widely implemented
    * fputwc_unlocked() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001
    * fputwc_unlocked() has potential races with other threads concurrently
    *                   executing any of: itself, addmntent(),
    *                   clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                   fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                   fgetws_unlocked(), __fpending(), __fpurge(),
    *                   fputc_unlocked(), fputs_unlocked(), fputws_unlocked(),
    *                   fread_unlocked(), __fsetlocking(), fwrite_unlocked(),
    *                   getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                   putwc_unlocked(). */
#  define FPUTWC_UNLOCKED_LOCK    GENx_LOCK_
#  define FPUTWC_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FPUTWS_LOCK
#  define FPUTWS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define FPUTWS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef FPUTWS_UNLOCKED_LOCK

   /* fputws_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                   locked the stream, but should not be used since not
    *                   standardized and not widely implemented
    * fputws_unlocked() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001
    * fputws_unlocked() has potential races with other threads concurrently
    *                   executing any of: itself, addmntent(),
    *                   clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                   fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                   fgetws_unlocked(), __fpending(), __fpurge(),
    *                   fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                   fread_unlocked(), __fsetlocking(), fwrite_unlocked(),
    *                   getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                   putwc_unlocked(). */
#  define FPUTWS_UNLOCKED_LOCK    GENx_LOCK_
#  define FPUTWS_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FREAD_UNLOCKED_LOCK

   /* fread_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                  locked the stream, but should not be used since not
    *                  standardized and not widely implemented
    * fread_unlocked() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001
    * fread_unlocked() has potential races with other threads concurrently
    *                  executing any of: itself, addmntent(),
    *                  clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                  fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                  fgetws_unlocked(), __fpending(), __fpurge(),
    *                  fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                  fputws_unlocked(), __fsetlocking(), fwrite_unlocked(),
    *                  getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                  putwc_unlocked(). */
#  define FREAD_UNLOCKED_LOCK    GENx_LOCK_
#  define FREAD_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FSCANF_LOCK
#  define FSCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define FSCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef __FSETLOCKING_LOCK

   /* __fsetlocking() has never been in the POSIX Standard, or was removed as
    *                 of POSIX 2001
    * __fsetlocking() has potential races with other threads concurrently
    *                 executing any of: itself, addmntent(),
    *                 clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                 fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                 fgetws_unlocked(), __fpending(), __fpurge(),
    *                 fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                 fputws_unlocked(), fread_unlocked(), fwrite_unlocked(),
    *                 getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                 putwc_unlocked(). */
#  define __FSETLOCKING_LOCK    GENx_LOCK_
#  define __FSETLOCKING_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FTS_CHILDREN_LOCK

   /* fts_children() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001 */
#  define FTS_CHILDREN_LOCK                              \
#    error_fts_children_not_suitable_for_multi-threaded_operation
#endif

#ifndef FTS_READ_LOCK

   /* fts_read() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define FTS_READ_LOCK                              \
#    error_fts_read_not_suitable_for_multi-threaded_operation
#endif

#ifndef FTW_LOCK

   /* ftw() Obsolete; use nftw() instead */
#  define FTW_LOCK    GENx_LOCK_
#  define FTW_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FWPRINTF_LOCK
#  define FWPRINTF_LOCK    LCr_LOCK_(  LC_CTYPEb_|LC_NUMERICb_)
#  define FWPRINTF_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_|LC_NUMERICb_)
#endif

#ifndef FWRITE_UNLOCKED_LOCK

   /* fwrite_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                   locked the stream, but should not be used since not
    *                   standardized and not widely implemented
    * fwrite_unlocked() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001
    * fwrite_unlocked() has potential races with other threads concurrently
    *                   executing any of: itself, addmntent(),
    *                   clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                   fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                   fgetws_unlocked(), __fpending(), __fpurge(),
    *                   fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                   fputws_unlocked(), fread_unlocked(), __fsetlocking(),
    *                   getc_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                   putwc_unlocked(). */
#  define FWRITE_UNLOCKED_LOCK    GENx_LOCK_
#  define FWRITE_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef FWSCANF_LOCK
#  define FWSCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define FWSCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef GAMMA_LOCK

   /* gamma() has potential races with other threads concurrently executing
    *         any of: itself, gammaf(), gammal(), lgamma(), lgammaf(), or
    *         lgammal(). */
#  define GAMMA_LOCK    GENx_LOCK_
#  define GAMMA_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GAMMAF_LOCK

   /* gammaf() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001
    * gammaf() has potential races with other threads concurrently executing
    *          any of: itself, gamma(), gammal(), lgamma(), lgammaf(), or
    *          lgammal(). */
#  define GAMMAF_LOCK    GENx_LOCK_
#  define GAMMAF_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GAMMAL_LOCK

   /* gammal() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001
    * gammal() has potential races with other threads concurrently executing
    *          any of: itself, gamma(), gammaf(), lgamma(), lgammaf(), or
    *          lgammal(). */
#  define GAMMAL_LOCK    GENx_LOCK_
#  define GAMMAL_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETADDRINFO_LOCK
#  define GETADDRINFO_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETADDRINFO_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETALIASBYNAME_LOCK

   /* getaliasbyname() Use getaliasbyname_r() instead
    * getaliasbyname() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001 */
#  define GETALIASBYNAME_LOCK                              \
#    error_getaliasbyname_not_suitable_for_multi-threaded_operation
#endif

#ifndef GETALIASBYNAME_R_LOCK

   /* getaliasbyname_r() has never been in the POSIX Standard, or was removed
    *                    as of POSIX 2001 */
#  define GETALIASBYNAME_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETALIASBYNAME_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETALIASENT_LOCK

   /* getaliasent() Use getaliasent_r() instead
    * getaliasent() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define GETALIASENT_LOCK                              \
#    error_getaliasent_not_suitable_for_multi-threaded_operation
#endif

#ifndef GETALIASENT_R_LOCK

   /* getaliasent_r() has never been in the POSIX Standard, or was removed as
    *                 of POSIX 2001 */
#  define GETALIASENT_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETALIASENT_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETCHAR_UNLOCKED_LOCK

   /* getchar_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                    locked stdin
    * getchar_unlocked() has potential races with other threads concurrently
    *                    executing either itself or getwchar_unlocked. */
#  define GETCHAR_UNLOCKED_LOCK    GENx_LOCK_
#  define GETCHAR_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETCONTEXT_LOCK

   /* getcontext() has potential races with other threads concurrently
    *              executing any of: itself, makecontext(), setcontext(), or
    *              swapcontext(). */
#  define GETCONTEXT_LOCK    GENx_LOCK_
#  define GETCONTEXT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETC_UNLOCKED_LOCK

   /* getc_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                 locked the stream
    * getc_unlocked() has potential races with other threads concurrently
    *                 executing any of: itself, addmntent(),
    *                 clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                 fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                 fgetws_unlocked(), __fpending(), __fpurge(),
    *                 fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                 fputws_unlocked(), fread_unlocked(), __fsetlocking(),
    *                 fwrite_unlocked(), getwc_unlocked(), putc_unlocked(), or
    *                 putwc_unlocked(). */
#  define GETC_UNLOCKED_LOCK    GENx_LOCK_
#  define GETC_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GET_CURRENT_DIR_NAME_LOCK

   /* get_current_dir_name() has never been in the POSIX Standard, or was
    *                        removed as of POSIX 2001 */
#  define GET_CURRENT_DIR_NAME_LOCK    ENVr_LOCK_
#  define GET_CURRENT_DIR_NAME_UNLOCK  ENVr_UNLOCK_
#endif

#ifndef GETDATE_LOCK
#  define GETDATE_LOCK    GENx_ENVr_LCr_LOCK_(  LC_TIMEb_)
#  define GETDATE_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_TIMEb_)
#endif

#ifndef GETDATE_R_LOCK

   /* getdate_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define GETDATE_R_LOCK    ENVr_LCr_LOCK_(  LC_TIMEb_)
#  define GETDATE_R_UNLOCK  ENVr_LCr_UNLOCK_(LC_TIMEb_)
#endif

#ifndef GETENV_LOCK
#  ifdef GETENV_PRESERVES_OTHER_THREAD
#    define GETENV_LOCK    ENVr_LOCK_
#    define GETENV_UNLOCK  ENVr_UNLOCK_
#  else
#    define GETENV_LOCK    GENx_ENVr_LOCK_
#    define GETENV_UNLOCK  GENx_ENVr_UNLOCK_
#  endif
#endif

#ifndef GETFSENT_LOCK

   /* getfsent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * getfsent() has potential races with other threads concurrently executing
    *            any of: itself, endfsent(), getfsfile(), getfsspec(), or
    *            setfsent(). */
#  define GETFSENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETFSENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETFSFILE_LOCK

   /* getfsfile() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * getfsfile() has potential races with other threads concurrently
    *             executing any of: itself, endfsent(), getfsent(),
    *             getfsspec(), or setfsent(). */
#  define GETFSFILE_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETFSFILE_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETFSSPEC_LOCK

   /* getfsspec() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * getfsspec() has potential races with other threads concurrently
    *             executing any of: itself, endfsent(), getfsent(),
    *             getfsfile(), or setfsent(). */
#  define GETFSSPEC_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETFSSPEC_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETGRENT_LOCK

   /* getgrent() has potential races with other threads concurrently executing
    *            any of: itself, endgrent(), endgrent_r(), getgrent_r(),
    *            setgrent(), or setgrent_r(). */
#  define GETGRENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETGRENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETGRENT_R_LOCK

   /* getgrent_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * getgrent_r() has potential races with other threads concurrently
    *              executing any of: itself, endgrent(), endgrent_r(),
    *              getgrent(), setgrent(), or setgrent_r(). */
#  define GETGRENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETGRENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETGRGID_LOCK
#  define GETGRGID_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETGRGID_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETGRGID_R_LOCK
#  define GETGRGID_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETGRGID_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETGRNAM_LOCK
#  define GETGRNAM_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETGRNAM_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETGRNAM_R_LOCK
#  define GETGRNAM_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETGRNAM_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETGROUPLIST_LOCK

   /* getgrouplist() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001 */
#  define GETGROUPLIST_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETGROUPLIST_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTBYADDR_LOCK

   /* gethostbyaddr() Obsolete; use getaddrinfo() instead
    * gethostbyaddr() return needs a deep copy for safety */
#  define GETHOSTBYADDR_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTBYADDR_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTBYADDR_R_LOCK

   /* gethostbyaddr_r() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001 */
#  define GETHOSTBYADDR_R_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTBYADDR_R_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTBYNAME_LOCK

   /* gethostbyname() Obsolete; use getnameinfo() instead
    * gethostbyname() return needs a deep copy for safety */
#  define GETHOSTBYNAME_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTBYNAME_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTBYNAME2_LOCK

   /* gethostbyname2() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001 */
#  define GETHOSTBYNAME2_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTBYNAME2_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTBYNAME2_R_LOCK

   /* gethostbyname2_r() has never been in the POSIX Standard, or was removed
    *                    as of POSIX 2001 */
#  define GETHOSTBYNAME2_R_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTBYNAME2_R_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTBYNAME_R_LOCK

   /* gethostbyname_r() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001 */
#  define GETHOSTBYNAME_R_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTBYNAME_R_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTENT_LOCK

   /* gethostent() has potential races with other threads concurrently
    *              executing any of: itself, endhostent(), endhostent_r(),
    *              gethostent_r(), sethostent(), or sethostent_r(). */
#  define GETHOSTENT_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTENT_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTENT_R_LOCK

   /* gethostent_r() has potential races with other threads concurrently
    *                executing any of: itself, endhostent(), endhostent_r(),
    *                gethostent(), sethostent(), or sethostent_r(). */
#  define GETHOSTENT_R_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTENT_R_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETHOSTID_LOCK
#  define GETHOSTID_LOCK    GENr_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETHOSTID_UNLOCK  GENr_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETLOGIN_LOCK

   /* getlogin() is vulnerable to signal ALRM
    * getlogin() has potential races with other threads concurrently executing
    *            any of: itself, endutent(), endutxent(), getlogin_r(),
    *            getutent(), getutid(), getutline(), getutxent(), getutxid(),
    *            getutxline(), glob(), login(), logout(), pututline(),
    *            pututxline(), setutent(), setutxent(), utmpname(), or
    *            wordexp(). */
#  define GETLOGIN_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETLOGIN_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETLOGIN_R_LOCK

   /* getlogin_r() is vulnerable to signal ALRM
    * getlogin_r() has potential races with other threads concurrently
    *              executing any of: itself, endutent(), endutxent(),
    *              getlogin(), getutent(), getutid(), getutline(),
    *              getutxent(), getutxid(), getutxline(), glob(), login(),
    *              logout(), pututline(), pututxline(), setutent(),
    *              setutxent(), utmpname(), or wordexp(). */
#  define GETLOGIN_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETLOGIN_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETMNTENT_LOCK

   /* getmntent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define GETMNTENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETMNTENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETMNTENT_R_LOCK

   /* getmntent_r() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define GETMNTENT_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETMNTENT_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNAMEINFO_LOCK
#  define GETNAMEINFO_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETNAMEINFO_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNETBYADDR_LOCK
#  define GETNETBYADDR_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETNETBYADDR_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNETBYADDR_R_LOCK

   /* getnetbyaddr_r() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001 */
#  define GETNETBYADDR_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETNETBYADDR_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNETBYNAME_LOCK
#  define GETNETBYNAME_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETNETBYNAME_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNETBYNAME_R_LOCK

   /* getnetbyname_r() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001 */
#  define GETNETBYNAME_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETNETBYNAME_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNETENT_LOCK

   /* getnetent() has potential races with other threads concurrently
    *             executing any of: itself, endnetent(), endnetent_r(),
    *             setnetent(), or setnetent_r(). */
#  define GETNETENT_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETNETENT_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNETENT_R_LOCK

   /* getnetent_r() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define GETNETENT_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETNETENT_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNETGRENT_LOCK

   /* getnetgrent() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001
    * getnetgrent() has potential races with other threads concurrently
    *               executing any of: itself, endnetgrent(), getnetgrent_r(),
    *               innetgr(), or setnetgrent(). */
#  define GETNETGRENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETNETGRENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETNETGRENT_R_LOCK

   /* getnetgrent_r() has never been in the POSIX Standard, or was removed as
    *                 of POSIX 2001
    * getnetgrent_r() has potential races with other threads concurrently
    *                 executing any of: itself, endnetgrent(), getnetgrent(),
    *                 innetgr(), or setnetgrent(). */
#  define GETNETGRENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETNETGRENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETOPT_LOCK

   /* getopt() has potential races with other threads concurrently executing
    *          any of: itself, getopt_long(), or getopt_long_only(). */
#  define GETOPT_LOCK    GENx_ENVr_LOCK_
#  define GETOPT_UNLOCK  GENx_ENVr_UNLOCK_
#endif

#ifndef GETOPT_LONG_LOCK

   /* getopt_long() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001
    * getopt_long() has potential races with other threads concurrently
    *               executing any of: itself, getopt(), or getopt_long_only().
    */
#  define GETOPT_LONG_LOCK    GENx_ENVr_LOCK_
#  define GETOPT_LONG_UNLOCK  GENx_ENVr_UNLOCK_
#endif

#ifndef GETOPT_LONG_ONLY_LOCK

   /* getopt_long_only() has never been in the POSIX Standard, or was removed
    *                    as of POSIX 2001
    * getopt_long_only() has potential races with other threads concurrently
    *                    executing any of: itself, getopt(), or getopt_long().
    */
#  define GETOPT_LONG_ONLY_LOCK    GENx_ENVr_LOCK_
#  define GETOPT_LONG_ONLY_UNLOCK  GENx_ENVr_UNLOCK_
#endif

#ifndef GETPASS_LOCK

   /* getpass() Obsolete; DO NOT USE
    * getpass() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define GETPASS_LOCK    GENr_LOCK_
#  define GETPASS_UNLOCK  GENr_UNLOCK_
#endif

#ifndef GETPROTOBYNAME_LOCK
#  define GETPROTOBYNAME_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETPROTOBYNAME_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPROTOBYNAME_R_LOCK

   /* getprotobyname_r() has never been in the POSIX Standard, or was removed
    *                    as of POSIX 2001 */
#  define GETPROTOBYNAME_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETPROTOBYNAME_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPROTOBYNUMBER_LOCK
#  define GETPROTOBYNUMBER_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETPROTOBYNUMBER_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPROTOBYNUMBER_R_LOCK

   /* getprotobynumber_r() has never been in the POSIX Standard, or was
    *                      removed as of POSIX 2001 */
#  define GETPROTOBYNUMBER_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETPROTOBYNUMBER_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPROTOENT_LOCK

   /* getprotoent() has potential races with other threads concurrently
    *               executing any of: itself, endprotoent(), endprotoent_r(),
    *               setprotoent(), or setprotoent_r(). */
#  define GETPROTOENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETPROTOENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPROTOENT_R_LOCK

   /* getprotoent_r() has never been in the POSIX Standard, or was removed as
    *                 of POSIX 2001 */
#  define GETPROTOENT_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETPROTOENT_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPW_LOCK

   /* getpw() Obsolete; use getpwuid() instead
    * getpw() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001 */
#  define GETPW_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETPW_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPWENT_LOCK

   /* getpwent() has potential races with other threads concurrently executing
    *            any of: itself, endpwent(), endpwent_r(), getpwent_r(),
    *            setpwent(), or setpwent_r(). */
#  define GETPWENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETPWENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPWENT_R_LOCK

   /* getpwent_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * getpwent_r() has potential races with other threads concurrently
    *              executing any of: itself, endpwent(), endpwent_r(),
    *              getpwent(), setpwent(), or setpwent_r(). */
#  define GETPWENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETPWENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPWNAM_LOCK
#  define GETPWNAM_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETPWNAM_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPWNAM_R_LOCK
#  define GETPWNAM_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETPWNAM_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPWUID_LOCK
#  define GETPWUID_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETPWUID_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETPWUID_R_LOCK
#  define GETPWUID_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETPWUID_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETRPCBYNAME_LOCK

   /* getrpcbyname() Use getrpcbyname_r() instead
    * getrpcbyname() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001 */
#  define GETRPCBYNAME_LOCK                              \
#    error_getrpcbyname_not_suitable_for_multi-threaded_operation
#endif

#ifndef GETRPCBYNAME_R_LOCK

   /* getrpcbyname_r() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001 */
#  define GETRPCBYNAME_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETRPCBYNAME_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETRPCBYNUMBER_LOCK

   /* getrpcbynumber() Use getrpcbynumber_r() instead
    * getrpcbynumber() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001 */
#  define GETRPCBYNUMBER_LOCK                              \
#    error_getrpcbynumber_not_suitable_for_multi-threaded_operation
#endif

#ifndef GETRPCBYNUMBER_R_LOCK

   /* getrpcbynumber_r() has never been in the POSIX Standard, or was removed
    *                    as of POSIX 2001 */
#  define GETRPCBYNUMBER_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETRPCBYNUMBER_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETRPCENT_LOCK

   /* getrpcent() Use getrpcent_r() instead
    * getrpcent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define GETRPCENT_LOCK                              \
#    error_getrpcent_not_suitable_for_multi-threaded_operation
#endif

#ifndef GETRPCENT_R_LOCK

   /* getrpcent_r() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define GETRPCENT_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETRPCENT_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETRPCPORT_LOCK

   /* getrpcport() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define GETRPCPORT_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GETRPCPORT_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSERVBYNAME_LOCK
#  define GETSERVBYNAME_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETSERVBYNAME_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSERVBYNAME_R_LOCK

   /* getservbyname_r() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001 */
#  define GETSERVBYNAME_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETSERVBYNAME_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSERVBYPORT_LOCK
#  define GETSERVBYPORT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETSERVBYPORT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSERVBYPORT_R_LOCK

   /* getservbyport_r() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001 */
#  define GETSERVBYPORT_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETSERVBYPORT_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSERVENT_LOCK

   /* getservent() has potential races with other threads concurrently
    *              executing any of: itself, endservent(), endservent_r(),
    *              setservent(), or setservent_r(). */
#  define GETSERVENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETSERVENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSERVENT_R_LOCK

   /* getservent_r() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001 */
#  define GETSERVENT_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETSERVENT_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSPENT_LOCK

   /* getspent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * getspent() has potential races with other threads concurrently executing
    *            any of: itself, endspent(), getspent_r(), or setspent(). */
#  define GETSPENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETSPENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSPENT_R_LOCK

   /* getspent_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * getspent_r() has potential races with other threads concurrently
    *              executing any of: itself, endspent(), getspent(), or
    *              setspent(). */
#  define GETSPENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETSPENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSPNAM_LOCK

   /* getspnam() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define GETSPNAM_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define GETSPNAM_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETSPNAM_R_LOCK

   /* getspnam_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define GETSPNAM_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GETSPNAM_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GETTTYENT_LOCK

   /* getttyent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * getttyent() has potential races with other threads concurrently
    *             executing any of: itself, endttyent(), getttynam(), or
    *             setttyent(). */
#  define GETTTYENT_LOCK    GENx_LOCK_
#  define GETTTYENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETTTYNAM_LOCK

   /* getttynam() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * getttynam() has potential races with other threads concurrently
    *             executing any of: itself, endttyent(), getttyent(), or
    *             setttyent(). */
#  define GETTTYNAM_LOCK    GENx_LOCK_
#  define GETTTYNAM_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETUSERSHELL_LOCK

   /* getusershell() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001 */
#  define GETUSERSHELL_LOCK                              \
#    error_getusershell_not_suitable_for_multi-threaded_operation
#endif

#ifndef GETUTENT_LOCK

   /* getutent() Obsolete; use getutxent() instead
    * getutent() must be called at least once in single-threaded mode to
    *            enable thread-safety in subsequent calls when in
    *            multi-threaded mode.
    * getutent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * getutent() is vulnerable to signal ALRM
    * getutent() has potential races with other threads concurrently executing
    *            any of: itself, endutent(), endutxent(), getlogin(),
    *            getlogin_r(), getutid(), getutline(), getutxent(),
    *            getutxid(), getutxline(), glob(), login(), logout(),
    *            pututline(), pututxline(), setutent(), setutxent(),
    *            utmpname(), or wordexp(). */
#  define GETUTENT_LOCK    GENx_LOCK_
#  define GETUTENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETUTID_LOCK

   /* getutid() Obsolete; use getutxid() instead
    * getutid() must be called at least once in single-threaded mode to enable
    *           thread-safety in subsequent calls when in multi-threaded mode.
    * getutid() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001
    * getutid() is vulnerable to signal ALRM
    * getutid() has potential races with other threads concurrently executing
    *           any of: itself, endutent(), endutxent(), getlogin(),
    *           getlogin_r(), getutent(), getutline(), getutxent(),
    *           getutxid(), getutxline(), glob(), login(), logout(),
    *           pututline(), pututxline(), setutent(), setutxent(),
    *           utmpname(), or wordexp(). */
#  define GETUTID_LOCK    GENx_LOCK_
#  define GETUTID_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETUTLINE_LOCK

   /* getutline() Obsolete; use getutxline() instead
    * getutline() must be called at least once in single-threaded mode to
    *             enable thread-safety in subsequent calls when in
    *             multi-threaded mode.
    * getutline() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * getutline() is vulnerable to signal ALRM
    * getutline() has potential races with other threads concurrently
    *             executing any of: itself, endutent(), endutxent(),
    *             getlogin(), getlogin_r(), getutent(), getutid(),
    *             getutxent(), getutxid(), getutxline(), glob(), login(),
    *             logout(), pututline(), pututxline(), setutent(),
    *             setutxent(), utmpname(), or wordexp(). */
#  define GETUTLINE_LOCK    GENx_LOCK_
#  define GETUTLINE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETUTXENT_LOCK

   /* getutxent() must be called at least once in single-threaded mode to
    *             enable thread-safety in subsequent calls when in
    *             multi-threaded mode.
    * getutxent() is vulnerable to signal ALRM
    * getutxent() has potential races with other threads concurrently
    *             executing any of: itself, endutent(), endutxent(),
    *             getlogin(), getlogin_r(), getutent(), getutid(),
    *             getutline(), getutxid(), getutxline(), glob(), login(),
    *             logout(), pututline(), pututxline(), setutent(),
    *             setutxent(), utmpname(), or wordexp(). */
#  define GETUTXENT_LOCK    GENx_LOCK_
#  define GETUTXENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETUTXID_LOCK

   /* getutxid() must be called at least once in single-threaded mode to
    *            enable thread-safety in subsequent calls when in
    *            multi-threaded mode.
    * getutxid() is vulnerable to signal ALRM
    * getutxid() has potential races with other threads concurrently executing
    *            any of: itself, endutent(), endutxent(), getlogin(),
    *            getlogin_r(), getutent(), getutid(), getutline(),
    *            getutxent(), getutxline(), glob(), login(), logout(),
    *            pututline(), pututxline(), setutent(), setutxent(),
    *            utmpname(), or wordexp(). */
#  define GETUTXID_LOCK    GENx_LOCK_
#  define GETUTXID_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETUTXLINE_LOCK

   /* getutxline() must be called at least once in single-threaded mode to
    *              enable thread-safety in subsequent calls when in
    *              multi-threaded mode.
    * getutxline() is vulnerable to signal ALRM
    * getutxline() has potential races with other threads concurrently
    *              executing any of: itself, endutent(), endutxent(),
    *              getlogin(), getlogin_r(), getutent(), getutid(),
    *              getutline(), getutxent(), getutxid(), glob(), login(),
    *              logout(), pututline(), pututxline(), setutent(),
    *              setutxent(), utmpname(), or wordexp(). */
#  define GETUTXLINE_LOCK    GENx_LOCK_
#  define GETUTXLINE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETWC_LOCK
#  define GETWC_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define GETWC_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef GETWCHAR_LOCK
#  define GETWCHAR_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define GETWCHAR_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef GETWCHAR_UNLOCKED_LOCK

   /* getwchar_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                     locked stdin, but should not be used since not
    *                     standardized and not widely implemented
    * getwchar_unlocked() has never been in the POSIX Standard, or was removed
    *                     as of POSIX 2001
    * getwchar_unlocked() has potential races with other threads concurrently
    *                     executing either itself or getchar_unlocked. */
#  define GETWCHAR_UNLOCKED_LOCK    GENx_LOCK_
#  define GETWCHAR_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GETWC_UNLOCKED_LOCK

   /* getwc_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                  locked the stream, but should not be used since not
    *                  standardized and not widely implemented
    * getwc_unlocked() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001
    * getwc_unlocked() has potential races with other threads concurrently
    *                  executing any of: itself, addmntent(),
    *                  clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                  fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                  fgetws_unlocked(), __fpending(), __fpurge(),
    *                  fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                  fputws_unlocked(), fread_unlocked(), __fsetlocking(),
    *                  fwrite_unlocked(), getc_unlocked(), putc_unlocked(), or
    *                  putwc_unlocked(). */
#  define GETWC_UNLOCKED_LOCK    GENx_LOCK_
#  define GETWC_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef GLOB_LOCK

   /* glob() is vulnerable to signal ALRM
    * glob() has potential races with other threads concurrently executing any
    *        of: itself, endutent(), endutxent(), getlogin(), getlogin_r(),
    *        getutent(), getutid(), getutline(), getutxent(), getutxid(),
    *        getutxline(), login(), logout(), pututline(), pututxline(),
    *        setutent(), setutxent(), utmpname(), or wordexp(). */
#  define GLOB_LOCK    GENx_ENVr_LCr_LOCK_(  LC_COLLATEb_)
#  define GLOB_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_COLLATEb_)
#endif

#ifndef GMTIME_LOCK

   /* gmtime() has potential races with other threads concurrently executing
    *          any of: itself, ctime(), or localtime(). */
#  define GMTIME_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GMTIME_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GMTIME_R_LOCK
#  define GMTIME_R_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define GMTIME_R_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef GRANTPT_LOCK
#  define GRANTPT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define GRANTPT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef HCREATE_LOCK

   /* hcreate() has potential races with other threads concurrently executing
    *           any of: itself, hdestroy(), or hsearch(). */
#  define HCREATE_LOCK    GENx_LOCK_
#  define HCREATE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef HCREATE_R_LOCK

   /* hcreate_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * hcreate_r() has potential races with other threads concurrently
    *             executing any of: itself, hdestroy_r(), or hsearch_r(). */
#  define HCREATE_R_LOCK    GENx_LOCK_
#  define HCREATE_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef HDESTROY_LOCK

   /* hdestroy() has potential races with other threads concurrently executing
    *            any of: itself, hcreate(), or hsearch(). */
#  define HDESTROY_LOCK    GENx_LOCK_
#  define HDESTROY_UNLOCK  GENx_UNLOCK_
#endif

#ifndef HDESTROY_R_LOCK

   /* hdestroy_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * hdestroy_r() has potential races with other threads concurrently
    *              executing any of: itself, hcreate_r(), or hsearch_r(). */
#  define HDESTROY_R_LOCK    GENx_LOCK_
#  define HDESTROY_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef HSEARCH_LOCK

   /* hsearch() has potential races with other threads concurrently executing
    *           any of: itself, hcreate(), or hdestroy(). */
#  define HSEARCH_LOCK    GENx_LOCK_
#  define HSEARCH_UNLOCK  GENx_UNLOCK_
#endif

#ifndef HSEARCH_R_LOCK

   /* hsearch_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * hsearch_r() has potential races with other threads concurrently
    *             executing any of: itself, hcreate_r(), or hdestroy_r(). */
#  define HSEARCH_R_LOCK    GENx_LOCK_
#  define HSEARCH_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ICONV_LOCK
#  define ICONV_LOCK    GENx_LOCK_
#  define ICONV_UNLOCK  GENx_UNLOCK_
#endif

#ifndef ICONV_OPEN_LOCK
#  define ICONV_OPEN_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define ICONV_OPEN_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef INET_ADDR_LOCK
#  define INET_ADDR_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define INET_ADDR_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef INET_ATON_LOCK

   /* inet_aton() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define INET_ATON_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define INET_ATON_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef INET_NETWORK_LOCK

   /* inet_network() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001 */
#  define INET_NETWORK_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define INET_NETWORK_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef INET_NTOA_LOCK
#  define INET_NTOA_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define INET_NTOA_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef INET_NTOP_LOCK
#  define INET_NTOP_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define INET_NTOP_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef INET_PTON_LOCK
#  define INET_PTON_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define INET_PTON_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef INITGROUPS_LOCK

   /* initgroups() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define INITGROUPS_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define INITGROUPS_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef INITSTATE_R_LOCK

   /* initstate_r() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001
    * initstate_r() has potential races with other threads concurrently
    *               executing any of: itself, random_r(), setstate_r(), or
    *               srandom_r(). */
#  define INITSTATE_R_LOCK    GENx_LOCK_
#  define INITSTATE_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef INNETGR_LOCK

   /* innetgr() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001
    * innetgr() has potential races with other threads concurrently executing
    *           any of: itself, endnetgrent(), getnetgrent(), getnetgrent_r(),
    *           or setnetgrent(). */
#  define INNETGR_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define INNETGR_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef IRUSEROK_LOCK

   /* iruserok() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define IRUSEROK_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define IRUSEROK_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef IRUSEROK_AF_LOCK

   /* iruserok_af() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define IRUSEROK_AF_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define IRUSEROK_AF_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef ISALNUM_LOCK

   /* isalnum() Use a Perl isALNUM-family macro instead */
#  define ISALNUM_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISALNUM_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISALNUM_L_LOCK
#  define ISALNUM_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISALNUM_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISALPHA_LOCK

   /* isalpha() Use a Perl isALPHA-family macro instead */
#  define ISALPHA_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISALPHA_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISALPHA_L_LOCK
#  define ISALPHA_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISALPHA_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISASCII_LOCK

   /* isascii() Use a Perl isASCII-family macro instead
    * isascii() Considered obsolete as being non-portable, but Perl makes it
    *           portable when using a macro */
#  define ISASCII_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISASCII_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISASCII_L_LOCK

   /* isascii_l() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define ISASCII_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISASCII_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISBLANK_LOCK

   /* isblank() Use a Perl isBLANK-family macro instead */
#  define ISBLANK_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISBLANK_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISBLANK_L_LOCK
#  define ISBLANK_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISBLANK_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISCNTRL_LOCK

   /* iscntrl() Use a Perl isCNTRL-family macro instead */
#  define ISCNTRL_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISCNTRL_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISCNTRL_L_LOCK
#  define ISCNTRL_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISCNTRL_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISDIGIT_LOCK

   /* isdigit() Use a Perl isDIGIT-family macro instead */
#  define ISDIGIT_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISDIGIT_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISDIGIT_L_LOCK
#  define ISDIGIT_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISDIGIT_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISGRAPH_LOCK

   /* isgraph() Use a Perl isGRAPH-family macro instead */
#  define ISGRAPH_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISGRAPH_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISGRAPH_L_LOCK
#  define ISGRAPH_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISGRAPH_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISLOWER_LOCK

   /* islower() Use a Perl isLOWER-family macro instead */
#  define ISLOWER_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISLOWER_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISLOWER_L_LOCK
#  define ISLOWER_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISLOWER_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISPRINT_LOCK

   /* isprint() Use a Perl isPRINT-family macro instead */
#  define ISPRINT_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISPRINT_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISPRINT_L_LOCK
#  define ISPRINT_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISPRINT_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISPUNCT_LOCK

   /* ispunct() Use a Perl isPUNCT-family macro instead */
#  define ISPUNCT_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISPUNCT_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISPUNCT_L_LOCK
#  define ISPUNCT_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISPUNCT_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISSPACE_LOCK

   /* isspace() Use a Perl isSPACE-family macro instead */
#  define ISSPACE_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISSPACE_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISSPACE_L_LOCK
#  define ISSPACE_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISSPACE_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISUPPER_LOCK

   /* isupper() Use a Perl isUPPER-family macro instead */
#  define ISUPPER_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISUPPER_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISUPPER_L_LOCK
#  define ISUPPER_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISUPPER_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISWALNUM_LOCK

   /* iswalnum() Use a Perl isALNUM-family macro instead */
#  define ISWALNUM_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWALNUM_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWALNUM_L_LOCK
#  define ISWALNUM_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWALNUM_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWALPHA_LOCK

   /* iswalpha() Use a Perl isALPHA-family macro instead */
#  define ISWALPHA_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWALPHA_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWALPHA_L_LOCK
#  define ISWALPHA_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWALPHA_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWBLANK_LOCK

   /* iswblank() Use a Perl isBLANK-family macro instead */
#  define ISWBLANK_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWBLANK_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWBLANK_L_LOCK
#  define ISWBLANK_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWBLANK_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWCNTRL_LOCK

   /* iswcntrl() Use a Perl isCNTRL-family macro instead */
#  define ISWCNTRL_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWCNTRL_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWCNTRL_L_LOCK
#  define ISWCNTRL_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWCNTRL_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWDIGIT_LOCK

   /* iswdigit() Use a Perl isDIGIT-family macro instead */
#  define ISWDIGIT_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWDIGIT_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWDIGIT_L_LOCK
#  define ISWDIGIT_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWDIGIT_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWGRAPH_LOCK

   /* iswgraph() Use a Perl isGRAPH-family macro instead */
#  define ISWGRAPH_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWGRAPH_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWGRAPH_L_LOCK
#  define ISWGRAPH_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWGRAPH_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWLOWER_LOCK

   /* iswlower() Use a Perl isLOWER-family macro instead */
#  define ISWLOWER_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWLOWER_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWLOWER_L_LOCK
#  define ISWLOWER_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWLOWER_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWPRINT_LOCK

   /* iswprint() Use a Perl isPRINT-family macro instead */
#  define ISWPRINT_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWPRINT_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWPRINT_L_LOCK
#  define ISWPRINT_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWPRINT_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWPUNCT_LOCK

   /* iswpunct() Use a Perl isPUNCT-family macro instead */
#  define ISWPUNCT_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWPUNCT_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWPUNCT_L_LOCK
#  define ISWPUNCT_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWPUNCT_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWSPACE_LOCK

   /* iswspace() Use a Perl isSPACE-family macro instead */
#  define ISWSPACE_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWSPACE_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWSPACE_L_LOCK
#  define ISWSPACE_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWSPACE_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWUPPER_LOCK

   /* iswupper() Use a Perl isUPPER-family macro instead */
#  define ISWUPPER_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWUPPER_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWUPPER_L_LOCK
#  define ISWUPPER_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWUPPER_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWXDIGIT_LOCK

   /* iswxdigit() Use a Perl isXDIGIT-family macro instead */
#  define ISWXDIGIT_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWXDIGIT_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISWXDIGIT_L_LOCK
#  define ISWXDIGIT_L_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define ISWXDIGIT_L_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef ISXDIGIT_LOCK

   /* isxdigit() Use a Perl isXDIGIT-family macro instead */
#  define ISXDIGIT_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISXDIGIT_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef ISXDIGIT_L_LOCK
#  define ISXDIGIT_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define ISXDIGIT_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef JRAND48_LOCK

   /* jrand48() has potential races with other threads concurrently executing
    *           any of: itself, drand48(), erand48(), lcong48(), lrand48(),
    *           mrand48(), nrand48(), seed48(), or srand48(). */
#  define JRAND48_LOCK    GENx_LOCK_
#  define JRAND48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef JRAND48_R_LOCK

   /* jrand48_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * jrand48_r() has potential races with other threads concurrently
    *             executing any of: itself, drand48_r(), erand48_r(),
    *             lcong48_r(), lrand48_r(), mrand48_r(), nrand48_r(),
    *             seed48_r(), or srand48_r(). */
#  define JRAND48_R_LOCK    GENx_LOCK_
#  define JRAND48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef L64A_LOCK
#  define L64A_LOCK    GENx_LOCK_
#  define L64A_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LCONG48_LOCK

   /* lcong48() has potential races with other threads concurrently executing
    *           any of: itself, drand48(), erand48(), jrand48(), lrand48(),
    *           mrand48(), nrand48(), seed48(), or srand48(). */
#  define LCONG48_LOCK    GENx_LOCK_
#  define LCONG48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LCONG48_R_LOCK

   /* lcong48_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * lcong48_r() has potential races with other threads concurrently
    *             executing any of: itself, drand48_r(), erand48_r(),
    *             jrand48_r(), lrand48_r(), mrand48_r(), nrand48_r(),
    *             seed48_r(), or srand48_r(). */
#  define LCONG48_R_LOCK    GENx_LOCK_
#  define LCONG48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LGAMMA_LOCK

   /* lgamma() has potential races with other threads concurrently executing
    *          any of: itself, gamma(), gammaf(), gammal(), lgammaf(), or
    *          lgammal(). */
#  define LGAMMA_LOCK    GENx_LOCK_
#  define LGAMMA_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LGAMMAF_LOCK

   /* lgammaf() has potential races with other threads concurrently executing
    *           any of: itself, gamma(), gammaf(), gammal(), lgamma(), or
    *           lgammal(). */
#  define LGAMMAF_LOCK    GENx_LOCK_
#  define LGAMMAF_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LGAMMAL_LOCK

   /* lgammal() has potential races with other threads concurrently executing
    *           any of: itself, gamma(), gammaf(), gammal(), lgamma(), or
    *           lgammaf(). */
#  define LGAMMAL_LOCK    GENx_LOCK_
#  define LGAMMAL_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LOCALECONV_LOCK

   /* localeconv() Use Perl_localeconv() instead */
#  define LOCALECONV_LOCK    GENx_LCr_LOCK_(  LC_NUMERICb_|LC_MONETARYb_)
#  define LOCALECONV_UNLOCK  GENx_LCr_UNLOCK_(LC_NUMERICb_|LC_MONETARYb_)
#endif

#ifndef LOCALTIME_LOCK

   /* localtime() has potential races with other threads concurrently
    *             executing any of: itself, ctime(), ctime_r(), daylight(),
    *             gmtime(), localtime_r(), mktime(), strftime(), timezone(),
    *             tzname(), or tzset(). */
#  define LOCALTIME_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define LOCALTIME_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef LOCALTIME_R_LOCK

   /* localtime_r() has potential races with other threads concurrently
    *               executing any of: itself, ctime(), ctime_r(), daylight(),
    *               localtime(), mktime(), strftime(), timezone(), tzname(),
    *               or tzset(). */
#  define LOCALTIME_R_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define LOCALTIME_R_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef LOGIN_LOCK

   /* login() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001
    * login() is vulnerable to signal ALRM
    * login() has potential races with other threads concurrently executing
    *         any of: itself, endutent(), endutxent(), getlogin(),
    *         getlogin_r(), getutent(), getutid(), getutline(), getutxent(),
    *         getutxid(), getutxline(), glob(), logout(), pututline(),
    *         pututxline(), setutent(), setutxent(), utmpname(), or wordexp().
    */
#  define LOGIN_LOCK    GENx_LOCK_
#  define LOGIN_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LOGIN_TTY_LOCK

   /* login_tty() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * login_tty() has potential races with other threads concurrently
    *             executing either itself or ttyname. */
#  define LOGIN_TTY_LOCK    GENx_LOCK_
#  define LOGIN_TTY_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LOGOUT_LOCK

   /* logout() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001
    * logout() is vulnerable to signal ALRM
    * logout() has potential races with other threads concurrently executing
    *          any of: itself, endutent(), endutxent(), getlogin(),
    *          getlogin_r(), getutent(), getutid(), getutline(), getutxent(),
    *          getutxid(), getutxline(), glob(), login(), pututline(),
    *          pututxline(), setutent(), setutxent(), utmpname(), or
    *          wordexp(). */
#  define LOGOUT_LOCK    GENx_LOCK_
#  define LOGOUT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LOGWTMP_LOCK

   /* logwtmp() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001
    * logwtmp() is vulnerable to signal ALRM */
#  define LOGWTMP_LOCK    NOOP
#  define LOGWTMP_UNLOCK  NOOP
#endif

#ifndef LRAND48_LOCK

   /* lrand48() has potential races with other threads concurrently executing
    *           any of: itself, drand48(), erand48(), jrand48(), lcong48(),
    *           mrand48(), nrand48(), seed48(), or srand48(). */
#  define LRAND48_LOCK    GENx_LOCK_
#  define LRAND48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef LRAND48_R_LOCK

   /* lrand48_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * lrand48_r() has potential races with other threads concurrently
    *             executing any of: itself, drand48_r(), erand48_r(),
    *             jrand48_r(), lcong48_r(), mrand48_r(), nrand48_r(),
    *             seed48_r(), or srand48_r(). */
#  define LRAND48_R_LOCK    GENx_LOCK_
#  define LRAND48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MAKECONTEXT_LOCK

   /* makecontext() has potential races with other threads concurrently
    *               executing any of: itself, getcontext(), setcontext(), or
    *               swapcontext(). */
#  define MAKECONTEXT_LOCK    GENx_LOCK_
#  define MAKECONTEXT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MALLINFO_LOCK

   /* mallinfo() must be called at least once in single-threaded mode to
    *            enable thread-safety in subsequent calls when in
    *            multi-threaded mode.
    * mallinfo() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define MALLINFO_LOCK    GENx_LOCK_
#  define MALLINFO_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MB_CUR_MAX_LOCK
#  define MB_CUR_MAX_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define MB_CUR_MAX_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef MBLEN_LOCK

   /* mblen() Use mbrlen() instead */
#  define MBLEN_LOCK    GENx_LCr_LOCK_(  LC_CTYPEb_)
#  define MBLEN_UNLOCK  GENx_LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef MBRLEN_LOCK

   /* mbrlen() locking macros are only valid if '!ps' */
#  define MBRLEN_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define MBRLEN_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef MBRTOWC_LOCK

   /* mbrtowc() locking macros are only valid if '!ps' */
#  define MBRTOWC_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define MBRTOWC_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef MBSINIT_LOCK
#  define MBSINIT_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define MBSINIT_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef MBSNRTOWCS_LOCK

   /* mbsnrtowcs() locking macros are only valid if '!ps' */
#  define MBSNRTOWCS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define MBSNRTOWCS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef MBSRTOWCS_LOCK

   /* mbsrtowcs() locking macros are only valid if '!ps' */
#  define MBSRTOWCS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define MBSRTOWCS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef MBSTOWCS_LOCK
#  define MBSTOWCS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define MBSTOWCS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef MBTOWC_LOCK

   /* mbtowc() Use mbrtowc() instead */
#  define MBTOWC_LOCK    GENx_LCr_LOCK_(  LC_CTYPEb_)
#  define MBTOWC_UNLOCK  GENx_LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef MCHECK_LOCK

   /* mcheck() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001
    * mcheck() has potential races with other threads concurrently executing
    *          any of: itself, mcheck_check_all(), mcheck_pedantic(), or
    *          mprobe(). */
#  define MCHECK_LOCK    GENx_LOCK_
#  define MCHECK_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MCHECK_CHECK_ALL_LOCK

   /* mcheck_check_all() has never been in the POSIX Standard, or was removed
    *                    as of POSIX 2001
    * mcheck_check_all() has potential races with other threads concurrently
    *                    executing any of: itself, mcheck(),
    *                    mcheck_pedantic(), or mprobe(). */
#  define MCHECK_CHECK_ALL_LOCK    GENx_LOCK_
#  define MCHECK_CHECK_ALL_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MCHECK_PEDANTIC_LOCK

   /* mcheck_pedantic() has never been in the POSIX Standard, or was removed
    *                   as of POSIX 2001
    * mcheck_pedantic() has potential races with other threads concurrently
    *                   executing any of: itself, mcheck(),
    *                   mcheck_check_all(), or mprobe(). */
#  define MCHECK_PEDANTIC_LOCK    GENx_LOCK_
#  define MCHECK_PEDANTIC_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MKTIME_LOCK

   /* mktime() has potential races with other threads concurrently executing
    *          any of: itself, ctime(), ctime_r(), daylight(), localtime(),
    *          localtime_r(), strftime(), timezone(), tzname(), or tzset(). */
#  define MKTIME_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define MKTIME_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef MPROBE_LOCK

   /* mprobe() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001
    * mprobe() has potential races with other threads concurrently executing
    *          any of: itself, mcheck(), mcheck_check_all(), or
    *          mcheck_pedantic(). */
#  define MPROBE_LOCK    GENx_LOCK_
#  define MPROBE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MRAND48_LOCK

   /* mrand48() has potential races with other threads concurrently executing
    *           any of: itself, drand48(), erand48(), jrand48(), lcong48(),
    *           lrand48(), nrand48(), seed48(), or srand48(). */
#  define MRAND48_LOCK    GENx_LOCK_
#  define MRAND48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MRAND48_R_LOCK

   /* mrand48_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * mrand48_r() has potential races with other threads concurrently
    *             executing any of: itself, drand48_r(), erand48_r(),
    *             jrand48_r(), lcong48_r(), lrand48_r(), nrand48_r(),
    *             seed48_r(), or srand48_r(). */
#  define MRAND48_R_LOCK    GENx_LOCK_
#  define MRAND48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef MTRACE_LOCK

   /* mtrace() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001 */
#  define MTRACE_LOCK                              \
#    error_mtrace_not_suitable_for_multi-threaded_operation
#endif

#ifndef MUNTRACE_LOCK

   /* muntrace() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define MUNTRACE_LOCK                              \
#    error_muntrace_not_suitable_for_multi-threaded_operation
#endif

#ifndef NAN_LOCK
#  define NAN_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define NAN_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef NANF_LOCK
#  define NANF_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define NANF_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef NANL_LOCK
#  define NANL_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define NANL_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef NEWLOCALE_LOCK
#  define NEWLOCALE_LOCK    ENVr_LOCK_
#  define NEWLOCALE_UNLOCK  ENVr_UNLOCK_
#endif

#ifndef NFTW_LOCK

   /* nftw() chdir() in another thread will mess this up */
#  define NFTW_LOCK    GENr_LOCK_
#  define NFTW_UNLOCK  GENr_UNLOCK_
#endif

#ifndef NL_LANGINFO_LOCK
#  define NL_LANGINFO_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define NL_LANGINFO_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef NRAND48_LOCK

   /* nrand48() has potential races with other threads concurrently executing
    *           any of: itself, drand48(), erand48(), jrand48(), lcong48(),
    *           lrand48(), mrand48(), seed48(), or srand48(). */
#  define NRAND48_LOCK    GENx_LOCK_
#  define NRAND48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef NRAND48_R_LOCK

   /* nrand48_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * nrand48_r() has potential races with other threads concurrently
    *             executing any of: itself, drand48_r(), erand48_r(),
    *             jrand48_r(), lcong48_r(), lrand48_r(), mrand48_r(),
    *             seed48_r(), or srand48_r(). */
#  define NRAND48_R_LOCK    GENx_LOCK_
#  define NRAND48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef OPENPTY_LOCK

   /* openpty() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define OPENPTY_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define OPENPTY_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef PERROR_LOCK
#  define PERROR_LOCK    GENx_LOCK_
#  define PERROR_UNLOCK  GENx_UNLOCK_
#endif

#ifndef POSIX_FALLOCATE_LOCK

   /* posix_fallocate() The safety in glibc depends on the file system.
    *                   Generally safe */
#  define POSIX_FALLOCATE_LOCK    NOOP
#  define POSIX_FALLOCATE_UNLOCK  NOOP
#endif

#ifndef PRINTF_LOCK
#  define PRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define PRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef PROFIL_LOCK

   /* profil() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001 */
#  define PROFIL_LOCK                              \
#    error_profil_not_suitable_for_multi-threaded_operation
#endif

#ifndef PSIGINFO_LOCK
#  define PSIGINFO_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define PSIGINFO_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef PSIGNAL_LOCK
#  define PSIGNAL_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define PSIGNAL_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef PTSNAME_LOCK
#  define PTSNAME_LOCK    GENx_LOCK_
#  define PTSNAME_UNLOCK  GENx_UNLOCK_
#endif

#ifndef PUTCHAR_UNLOCKED_LOCK

   /* putchar_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                    locked stdin
    * putchar_unlocked() has potential races with other threads concurrently
    *                    executing either itself or putwchar_unlocked. */
#  define PUTCHAR_UNLOCKED_LOCK    GENx_LOCK_
#  define PUTCHAR_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef PUTC_UNLOCKED_LOCK

   /* putc_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                 locked the stream
    * putc_unlocked() has potential races with other threads concurrently
    *                 executing any of: itself, addmntent(),
    *                 clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                 fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                 fgetws_unlocked(), __fpending(), __fpurge(),
    *                 fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                 fputws_unlocked(), fread_unlocked(), __fsetlocking(),
    *                 fwrite_unlocked(), getc_unlocked(), getwc_unlocked(), or
    *                 putwc_unlocked(). */
#  define PUTC_UNLOCKED_LOCK    GENx_LOCK_
#  define PUTC_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef PUTENV_LOCK
#  define PUTENV_LOCK    ENVx_LOCK_
#  define PUTENV_UNLOCK  ENVx_UNLOCK_
#endif

#ifndef PUTPWENT_LOCK
#  define PUTPWENT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define PUTPWENT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef PUTSPENT_LOCK

   /* putspent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define PUTSPENT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define PUTSPENT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef PUTUTLINE_LOCK

   /* pututline() Obsolete; use pututxline() instead
    * pututline() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * pututline() is vulnerable to signal ALRM
    * pututline() has potential races with other threads concurrently
    *             executing any of: itself, endutent(), endutxent(),
    *             getlogin(), getlogin_r(), getutent(), getutid(),
    *             getutline(), getutxent(), getutxid(), getutxline(), glob(),
    *             login(), logout(), pututxline(), setutent(), setutxent(),
    *             utmpname(), or wordexp(). */
#  define PUTUTLINE_LOCK    GENx_LOCK_
#  define PUTUTLINE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef PUTUTXLINE_LOCK

   /* pututxline() is vulnerable to signal ALRM
    * pututxline() has potential races with other threads concurrently
    *              executing any of: itself, endutent(), endutxent(),
    *              getlogin(), getlogin_r(), getutent(), getutid(),
    *              getutline(), getutxent(), getutxid(), getutxline(), glob(),
    *              login(), logout(), pututline(), setutent(), setutxent(),
    *              utmpname(), or wordexp(). */
#  define PUTUTXLINE_LOCK    GENx_LOCK_
#  define PUTUTXLINE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef PUTWC_LOCK
#  define PUTWC_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define PUTWC_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef PUTWCHAR_LOCK
#  define PUTWCHAR_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define PUTWCHAR_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef PUTWCHAR_UNLOCKED_LOCK

   /* putwchar_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                     locked stdout, but should not be used since not
    *                     standardized and not widely implemented
    * putwchar_unlocked() has never been in the POSIX Standard, or was removed
    *                     as of POSIX 2001
    * putwchar_unlocked() has potential races with other threads concurrently
    *                     executing either itself or putchar_unlocked. */
#  define PUTWCHAR_UNLOCKED_LOCK    GENx_LOCK_
#  define PUTWCHAR_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef PUTWC_UNLOCKED_LOCK

   /* putwc_unlocked() Is thread-safe if flockfile() or ftrylockfile() have
    *                  locked the stream, but should not be used since not
    *                  standardized and not widely implemented
    * putwc_unlocked() has never been in the POSIX Standard, or was removed as
    *                  of POSIX 2001
    * putwc_unlocked() has potential races with other threads concurrently
    *                  executing any of: itself, addmntent(),
    *                  clearerr_unlocked(), __fbufsize(), fflush_unlocked(),
    *                  fgetc_unlocked(), fgets_unlocked(), fgetwc_unlocked(),
    *                  fgetws_unlocked(), __fpending(), __fpurge(),
    *                  fputc_unlocked(), fputs_unlocked(), fputwc_unlocked(),
    *                  fputws_unlocked(), fread_unlocked(), __fsetlocking(),
    *                  fwrite_unlocked(), getc_unlocked(), getwc_unlocked(),
    *                  or putc_unlocked(). */
#  define PUTWC_UNLOCKED_LOCK    GENx_LOCK_
#  define PUTWC_UNLOCKED_UNLOCK  GENx_UNLOCK_
#endif

#ifndef PVALLOC_LOCK

   /* pvalloc() must be called at least once in single-threaded mode to enable
    *           thread-safety in subsequent calls when in multi-threaded mode.
    * pvalloc() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define PVALLOC_LOCK    NOOP
#  define PVALLOC_UNLOCK  NOOP
#endif

#ifndef QECVT_LOCK

   /* qecvt() Obsolete; use snprintf() instead
    * qecvt() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001 */
#  define QECVT_LOCK    GENx_LOCK_
#  define QECVT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef QFCVT_LOCK

   /* qfcvt() Obsolete; use snprintf() instead
    * qfcvt() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001 */
#  define QFCVT_LOCK    GENx_LOCK_
#  define QFCVT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef RAND_LOCK
#  ifndef __GLIBC__

     /* rand() Problematic and should be avoided; See POSIX Standard */
#    define RAND_LOCK    NOOP
#    define RAND_UNLOCK  NOOP
#  else
#    define RAND_LOCK    NOOP
#    define RAND_UNLOCK  NOOP
#  endif
#endif

#ifndef RANDOM_R_LOCK

   /* random_r() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * random_r() has potential races with other threads concurrently executing
    *            any of: itself, initstate_r(), setstate_r(), or srandom_r().
    */
#  define RANDOM_R_LOCK    GENx_LOCK_
#  define RANDOM_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef RCMD_LOCK

   /* rcmd() has never been in the POSIX Standard, or was removed as of POSIX
    *        2001 */
#  define RCMD_LOCK                              \
#    error_rcmd_not_suitable_for_multi-threaded_operation
#endif

#ifndef RCMD_AF_LOCK

   /* rcmd_af() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define RCMD_AF_LOCK                              \
#    error_rcmd_af_not_suitable_for_multi-threaded_operation
#endif

#ifndef READDIR_LOCK

   /* readdir() has potential races with other threads concurrently executing
    *           either itself or readdir64. */
#  define READDIR_LOCK    GENx_LOCK_
#  define READDIR_UNLOCK  GENx_UNLOCK_
#endif

#ifndef READDIR64_LOCK

   /* readdir64() has potential races with other threads concurrently
    *             executing either itself or readdir. */
#  define READDIR64_LOCK    GENx_LOCK_
#  define READDIR64_UNLOCK  GENx_UNLOCK_
#endif

#ifndef READDIR64_R_LOCK
#  define READDIR64_R_LOCK    NOOP
#  define READDIR64_R_UNLOCK  NOOP
#endif

#ifndef READDIR_R_LOCK

   /* readdir_r() Obsolete; use readdir() instead
    * readdir_r() Deprecated by glibc.  It is recommended to use plain
    *             readdir() instead due to various limitations, and modern
    *             implementations of readdir tend to be thread-safe if
    *             concurrent calls use different directory streams */
#  define READDIR_R_LOCK    NOOP
#  define READDIR_R_UNLOCK  NOOP
#endif

#ifndef RE_COMP_LOCK

   /* re_comp() Obsolete; use regcomp() instead
    * re_comp() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define RE_COMP_LOCK                              \
#    error_re_comp_not_suitable_for_multi-threaded_operation
#endif

#ifndef RE_EXEC_LOCK

   /* re_exec() Obsolete; use regexec() instead
    * re_exec() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define RE_EXEC_LOCK                              \
#    error_re_exec_not_suitable_for_multi-threaded_operation
#endif

#ifndef REGCOMP_LOCK
#  define REGCOMP_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define REGCOMP_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef REGERROR_LOCK
#  define REGERROR_LOCK    ENVr_LOCK_
#  define REGERROR_UNLOCK  ENVr_UNLOCK_
#endif

#ifndef REGEXEC_LOCK
#  define REGEXEC_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define REGEXEC_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef RES_NCLOSE_LOCK

   /* res_nclose() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define RES_NCLOSE_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define RES_NCLOSE_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef RES_NINIT_LOCK

   /* res_ninit() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define RES_NINIT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define RES_NINIT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef RES_NQUERY_LOCK

   /* res_nquery() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define RES_NQUERY_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define RES_NQUERY_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef RES_NQUERYDOMAIN_LOCK

   /* res_nquerydomain() has never been in the POSIX Standard, or was removed
    *                    as of POSIX 2001 */
#  define RES_NQUERYDOMAIN_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define RES_NQUERYDOMAIN_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef RES_NSEARCH_LOCK

   /* res_nsearch() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define RES_NSEARCH_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define RES_NSEARCH_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef RES_NSEND_LOCK

   /* res_nsend() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define RES_NSEND_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define RES_NSEND_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef REXEC_LOCK

   /* rexec() Obsolete; use rcmd() instead
    * rexec() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001 */
#  define REXEC_LOCK                              \
#    error_rexec_not_suitable_for_multi-threaded_operation
#endif

#ifndef REXEC_AF_LOCK

   /* rexec_af() Obsolete; use rcmd() instead
    * rexec_af() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define REXEC_AF_LOCK                              \
#    error_rexec_af_not_suitable_for_multi-threaded_operation
#endif

#ifndef RPMATCH_LOCK

   /* rpmatch() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define RPMATCH_LOCK    LCr_LOCK_(  LC_MESSAGESb_)
#  define RPMATCH_UNLOCK  LCr_UNLOCK_(LC_MESSAGESb_)
#endif

#ifndef RUSEROK_LOCK

   /* ruserok() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define RUSEROK_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define RUSEROK_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef RUSEROK_AF_LOCK

   /* ruserok_af() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define RUSEROK_AF_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define RUSEROK_AF_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SCANDIR_LOCK
#  define SCANDIR_LOCK    TSE_TOGGLE_(  LC_CTYPEb_|LC_COLLATEb_)
#  define SCANDIR_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_|LC_COLLATEb_)
#endif

#ifndef SCANF_LOCK
#  define SCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define SCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef SECURE_GETENV_LOCK
#  ifdef GETENV_PRESERVES_OTHER_THREAD

     /* secure_getenv() has never been in the POSIX Standard, or was removed
      *                 as of POSIX 2001 */
#    define SECURE_GETENV_LOCK    ENVr_LOCK_
#    define SECURE_GETENV_UNLOCK  ENVr_UNLOCK_
#  else

     /* secure_getenv() has never been in the POSIX Standard, or was removed
      *                 as of POSIX 2001 */
#    define SECURE_GETENV_LOCK    GENx_ENVr_LOCK_
#    define SECURE_GETENV_UNLOCK  GENx_ENVr_UNLOCK_
#  endif
#endif

#ifndef SEED48_LOCK

   /* seed48() has potential races with other threads concurrently executing
    *          any of: itself, drand48(), erand48(), jrand48(), lcong48(),
    *          lrand48(), mrand48(), nrand48(), or srand48(). */
#  define SEED48_LOCK    GENx_LOCK_
#  define SEED48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SEED48_R_LOCK

   /* seed48_r() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * seed48_r() has potential races with other threads concurrently executing
    *            any of: itself, drand48_r(), erand48_r(), jrand48_r(),
    *            lcong48_r(), lrand48_r(), mrand48_r(), nrand48_r(), or
    *            srand48_r(). */
#  define SEED48_R_LOCK    GENx_LOCK_
#  define SEED48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETALIASENT_LOCK

   /* setaliasent() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define SETALIASENT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define SETALIASENT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETCONTEXT_LOCK

   /* setcontext() has potential races with other threads concurrently
    *              executing any of: itself, getcontext(), makecontext(), or
    *              swapcontext(). */
#  define SETCONTEXT_LOCK    GENx_LOCK_
#  define SETCONTEXT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETENV_LOCK
#  define SETENV_LOCK    ENVx_LOCK_
#  define SETENV_UNLOCK  ENVx_UNLOCK_
#endif

#ifndef SETFSENT_LOCK

   /* setfsent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * setfsent() has potential races with other threads concurrently executing
    *            any of: itself, endfsent(), getfsent(), getfsfile(), or
    *            getfsspec(). */
#  define SETFSENT_LOCK    GENx_LOCK_
#  define SETFSENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETGRENT_LOCK

   /* setgrent() has potential races with other threads concurrently executing
    *            any of: itself, endgrent(), endgrent_r(), getgrent(),
    *            getgrent_r(), or setgrent_r(). */
#  define SETGRENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETGRENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETGRENT_R_LOCK

   /* setgrent_r() Obsolete
    * setgrent_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * setgrent_r() has potential races with other threads concurrently
    *              executing any of: itself, endgrent(), endgrent_r(),
    *              getgrent(), getgrent_r(), or setgrent(). */
#  define SETGRENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETGRENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETHOSTENT_LOCK

   /* sethostent() has potential races with other threads concurrently
    *              executing any of: itself, endhostent(), endhostent_r(),
    *              gethostent(), gethostent_r(), or sethostent_r(). */
#  define SETHOSTENT_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define SETHOSTENT_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETHOSTENT_R_LOCK

   /* sethostent_r() Obsolete
    * sethostent_r() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001
    * sethostent_r() has potential races with other threads concurrently
    *                executing any of: itself, endhostent(), endhostent_r(),
    *                gethostent(), gethostent_r(), or sethostent(). */
#  define SETHOSTENT_R_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define SETHOSTENT_R_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETHOSTID_LOCK
#  define SETHOSTID_LOCK    GENx_LOCK_
#  define SETHOSTID_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETKEY_LOCK

   /* setkey() has potential races with other threads concurrently executing
    *          any of: itself, crypt(), or encrypt(). */
#  define SETKEY_LOCK    GENx_LOCK_
#  define SETKEY_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETLOCALE_LOCK
#  ifndef WIN32

     /* setlocale() Use Perl_setlocale() instead */
#    define SETLOCALE_LOCK    ENVr_LCx_LOCK_(  LC_ALLb_)
#    define SETLOCALE_UNLOCK  ENVr_LCx_UNLOCK_(LC_ALLb_)
#  else
#    define SETLOCALE_LOCK    NOOP
#    define SETLOCALE_UNLOCK  NOOP
#  endif
#endif

#ifndef SETLOCALE_R_LOCK
#  ifndef WIN32

     /* setlocale_r() Use Perl_setlocale() instead
      * setlocale_r() Obsolete
      * setlocale_r() has never been in the POSIX Standard, or was removed as
      *               of POSIX 2001 */
#    define SETLOCALE_R_LOCK    ENVr_LCx_LOCK_(  LC_ALLb_)
#    define SETLOCALE_R_UNLOCK  ENVr_LCx_UNLOCK_(LC_ALLb_)
#  else
#    define SETLOCALE_R_LOCK    NOOP
#    define SETLOCALE_R_UNLOCK  NOOP
#  endif
#endif

#ifndef SETLOGMASK_LOCK
#  define SETLOGMASK_LOCK    GENx_LOCK_
#  define SETLOGMASK_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETNETENT_LOCK

   /* setnetent() has potential races with other threads concurrently
    *             executing any of: itself, endnetent(), endnetent_r(),
    *             getnetent(), or setnetent_r(). */
#  define SETNETENT_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define SETNETENT_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETNETENT_R_LOCK

   /* setnetent_r() Obsolete
    * setnetent_r() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001
    * setnetent_r() has potential races with other threads concurrently
    *               executing any of: itself, endnetent(), endnetent_r(),
    *               getnetent(), or setnetent(). */
#  define SETNETENT_R_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define SETNETENT_R_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETNETGRENT_LOCK

   /* setnetgrent() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001
    * setnetgrent() has potential races with other threads concurrently
    *               executing any of: itself, endnetgrent(), getnetgrent(),
    *               getnetgrent_r(), or innetgr(). */
#  define SETNETGRENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETNETGRENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETPROTOENT_LOCK

   /* setprotoent() has potential races with other threads concurrently
    *               executing any of: itself, endprotoent(), endprotoent_r(),
    *               getprotoent(), or setprotoent_r(). */
#  define SETPROTOENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETPROTOENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETPROTOENT_R_LOCK

   /* setprotoent_r() Obsolete
    * setprotoent_r() has never been in the POSIX Standard, or was removed as
    *                 of POSIX 2001
    * setprotoent_r() has potential races with other threads concurrently
    *                 executing any of: itself, endprotoent(),
    *                 endprotoent_r(), getprotoent(), or setprotoent(). */
#  define SETPROTOENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETPROTOENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETPWENT_LOCK

   /* setpwent() has potential races with other threads concurrently executing
    *            any of: itself, endpwent(), endpwent_r(), getpwent(),
    *            getpwent_r(), or setpwent_r(). */
#  define SETPWENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETPWENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETPWENT_R_LOCK

   /* setpwent_r() Obsolete
    * setpwent_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * setpwent_r() has potential races with other threads concurrently
    *              executing any of: itself, endpwent(), endpwent_r(),
    *              getpwent(), getpwent_r(), or setpwent(). */
#  define SETPWENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETPWENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETRPCENT_LOCK

   /* setrpcent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define SETRPCENT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define SETRPCENT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETSERVENT_LOCK

   /* setservent() has potential races with other threads concurrently
    *              executing any of: itself, endservent(), endservent_r(),
    *              getservent(), or setservent_r(). */
#  define SETSERVENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETSERVENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETSERVENT_R_LOCK

   /* setservent_r() Obsolete
    * setservent_r() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001
    * setservent_r() has potential races with other threads concurrently
    *                executing any of: itself, endservent(), endservent_r(),
    *                getservent(), or setservent(). */
#  define SETSERVENT_R_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETSERVENT_R_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETSPENT_LOCK

   /* setspent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * setspent() has potential races with other threads concurrently executing
    *            any of: itself, endspent(), getspent(), or getspent_r(). */
#  define SETSPENT_LOCK    GENx_LCr_LOCK_(  LC_ALLb_)
#  define SETSPENT_UNLOCK  GENx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SETSTATE_R_LOCK

   /* setstate_r() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001
    * setstate_r() has potential races with other threads concurrently
    *              executing any of: itself, initstate_r(), random_r(), or
    *              srandom_r(). */
#  define SETSTATE_R_LOCK    GENx_LOCK_
#  define SETSTATE_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETTTYENT_LOCK

   /* setttyent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * setttyent() has potential races with other threads concurrently
    *             executing any of: itself, endttyent(), getttyent(), or
    *             getttynam(). */
#  define SETTTYENT_LOCK    GENx_LOCK_
#  define SETTTYENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETUSERSHELL_LOCK

   /* setusershell() has never been in the POSIX Standard, or was removed as
    *                of POSIX 2001 */
#  define SETUSERSHELL_LOCK                              \
#    error_setusershell_not_suitable_for_multi-threaded_operation
#endif

#ifndef SETUTENT_LOCK

   /* setutent() Obsolete; use setutxent() instead
    * setutent() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * setutent() has potential races with other threads concurrently executing
    *            any of: itself, endutent(), endutxent(), getlogin(),
    *            getlogin_r(), getutent(), getutid(), getutline(),
    *            getutxent(), getutxid(), getutxline(), glob(), login(),
    *            logout(), pututline(), pututxline(), setutxent(), utmpname(),
    *            or wordexp(). */
#  define SETUTENT_LOCK    GENx_LOCK_
#  define SETUTENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SETUTXENT_LOCK

   /* setutxent() has potential races with other threads concurrently
    *             executing any of: itself, endutent(), endutxent(),
    *             getlogin(), getlogin_r(), getutent(), getutid(),
    *             getutline(), getutxent(), getutxid(), getutxline(), glob(),
    *             login(), logout(), pututline(), pututxline(), setutent(),
    *             utmpname(), or wordexp(). */
#  define SETUTXENT_LOCK    GENx_LOCK_
#  define SETUTXENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SGETSPENT_LOCK

   /* sgetspent() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define SGETSPENT_LOCK    GENx_LOCK_
#  define SGETSPENT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SGETSPENT_R_LOCK

   /* sgetspent_r() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define SGETSPENT_R_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define SGETSPENT_R_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SHM_OPEN_LOCK
#  define SHM_OPEN_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define SHM_OPEN_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SHM_UNLINK_LOCK
#  define SHM_UNLINK_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define SHM_UNLINK_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SIGINTERRUPT_LOCK

   /* siginterrupt() Obsolete; Use sigaction(2) with the SA_RESTART flag
    *                instead */
#  define SIGINTERRUPT_LOCK    GENx_LOCK_
#  define SIGINTERRUPT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SLEEP_LOCK

   /* sleep() is vulnerable to signal SIGCHLD/linux */
#  define SLEEP_LOCK    NOOP
#  define SLEEP_UNLOCK  NOOP
#endif

#ifndef SNPRINTF_LOCK
#  define SNPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define SNPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef SPRINTF_LOCK
#  define SPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define SPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef SRAND48_LOCK

   /* srand48() has potential races with other threads concurrently executing
    *           any of: itself, drand48(), erand48(), jrand48(), lcong48(),
    *           lrand48(), mrand48(), nrand48(), or seed48(). */
#  define SRAND48_LOCK    GENx_LOCK_
#  define SRAND48_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SRAND48_R_LOCK

   /* srand48_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * srand48_r() has potential races with other threads concurrently
    *             executing any of: itself, drand48_r(), erand48_r(),
    *             jrand48_r(), lcong48_r(), lrand48_r(), mrand48_r(),
    *             nrand48_r(), or seed48_r(). */
#  define SRAND48_R_LOCK    GENx_LOCK_
#  define SRAND48_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SRANDOM_R_LOCK

   /* srandom_r() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001
    * srandom_r() has potential races with other threads concurrently
    *             executing any of: itself, initstate_r(), random_r(), or
    *             setstate_r(). */
#  define SRANDOM_R_LOCK    GENx_LOCK_
#  define SRANDOM_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SSCANF_LOCK
#  define SSCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define SSCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef SSIGNAL_LOCK

   /* ssignal() Obsolete
    * ssignal() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define SSIGNAL_LOCK    GENr_LOCK_
#  define SSIGNAL_UNLOCK  GENr_UNLOCK_
#endif

#ifndef STRCASECMP_LOCK

   /* strcasecmp() The POSIX Standard says results are undefined unless
    *              LC_CTYPE is the POSIX locale */
#  define STRCASECMP_LOCK    LCr_LOCK_(  LC_CTYPEb_|LC_COLLATEb_)
#  define STRCASECMP_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_|LC_COLLATEb_)
#endif

#ifndef STRCASESTR_LOCK

   /* strcasestr() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define STRCASESTR_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define STRCASESTR_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef STRCOLL_LOCK
#  define STRCOLL_LOCK    LCr_LOCK_(  LC_COLLATEb_)
#  define STRCOLL_UNLOCK  LCr_UNLOCK_(LC_COLLATEb_)
#endif

#ifndef STRERROR_LOCK
#  define STRERROR_LOCK    GENx_LCr_LOCK_(  LC_MESSAGESb_)
#  define STRERROR_UNLOCK  GENx_LCr_UNLOCK_(LC_MESSAGESb_)
#endif

#ifndef STRERROR_L_LOCK
#  define STRERROR_L_LOCK    TSE_TOGGLE_(  LC_MESSAGESb_)
#  define STRERROR_L_UNLOCK  TSE_UNTOGGLE_(LC_MESSAGESb_)
#endif

#ifndef STRERROR_R_LOCK
#  define STRERROR_R_LOCK    TSE_TOGGLE_(  LC_MESSAGESb_)
#  define STRERROR_R_UNLOCK  TSE_UNTOGGLE_(LC_MESSAGESb_)
#endif

#ifndef STRFMON_LOCK
#  define STRFMON_LOCK    LCr_LOCK_(  LC_MONETARYb_)
#  define STRFMON_UNLOCK  LCr_UNLOCK_(LC_MONETARYb_)
#endif

#ifndef STRFMON_L_LOCK
#  define STRFMON_L_LOCK    TSE_TOGGLE_(  LC_MONETARYb_)
#  define STRFMON_L_UNLOCK  TSE_UNTOGGLE_(LC_MONETARYb_)
#endif

#ifndef STRFROMD_LOCK

   /* strfromd() Asynchronous unsafe */
#  define STRFROMD_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRFROMD_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRFROMF_LOCK

   /* strfromf() Asynchronous unsafe */
#  define STRFROMF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRFROMF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRFROML_LOCK

   /* strfroml() Asynchronous unsafe */
#  define STRFROML_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRFROML_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRFTIME_LOCK

   /* strftime() Use Perl_sv_strftime_tm() or Perl_sv_strftime_ints() instead
    * strftime() has potential races with other threads concurrently executing
    *            any of: itself, ctime(), ctime_r(), daylight(), localtime(),
    *            localtime_r(), mktime(), timezone(), tzname(), or tzset(). */
#  define STRFTIME_LOCK    GENx_ENVr_LCr_LOCK_(  LC_TIMEb_)
#  define STRFTIME_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_TIMEb_)
#endif

#ifndef STRFTIME_L_LOCK
#  define STRFTIME_L_LOCK    TSE_TOGGLE_(  LC_TIMEb_)
#  define STRFTIME_L_UNLOCK  TSE_UNTOGGLE_(LC_TIMEb_)
#endif

#ifndef STRNCASECMP_LOCK

   /* strncasecmp() The POSIX Standard says results are undefined unless
    *               LC_CTYPE is the POSIX locale */
#  define STRNCASECMP_LOCK    LCr_LOCK_(  LC_CTYPEb_|LC_COLLATEb_)
#  define STRNCASECMP_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_|LC_COLLATEb_)
#endif

#ifndef STRPTIME_LOCK
#  define STRPTIME_LOCK    ENVr_LCr_LOCK_(  LC_TIMEb_)
#  define STRPTIME_UNLOCK  ENVr_LCr_UNLOCK_(LC_TIMEb_)
#endif

#ifndef STRSIGNAL_LOCK
#  define STRSIGNAL_LOCK    GENx_LCr_LOCK_(  LC_MESSAGESb_)
#  define STRSIGNAL_UNLOCK  GENx_LCr_UNLOCK_(LC_MESSAGESb_)
#endif

#ifndef STRTOD_LOCK
#  define STRTOD_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOD_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRTOF_LOCK
#  define STRTOF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRTOIMAX_LOCK
#  define STRTOIMAX_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define STRTOIMAX_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef STRTOK_LOCK

   /* strtok() Use strtok_r() instead */
#  define STRTOK_LOCK    GENx_LOCK_
#  define STRTOK_UNLOCK  GENx_UNLOCK_
#endif

#ifndef STRTOL_LOCK
#  define STRTOL_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOL_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRTOLD_LOCK
#  define STRTOLD_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOLD_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRTOLL_LOCK
#  define STRTOLL_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOLL_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRTOQ_LOCK

   /* strtoq() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001 */
#  define STRTOQ_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOQ_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRTOUL_LOCK
#  define STRTOUL_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOUL_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRTOULL_LOCK
#  define STRTOULL_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOULL_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRTOUMAX_LOCK
#  define STRTOUMAX_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define STRTOUMAX_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef STRTOUQ_LOCK

   /* strtouq() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define STRTOUQ_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define STRTOUQ_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef STRVERSCMP_LOCK

   /* strverscmp() has never been in the POSIX Standard, or was removed as of
    *              POSIX 2001 */
#  define STRVERSCMP_LOCK    TSE_TOGGLE_(  LC_COLLATEb_)
#  define STRVERSCMP_UNLOCK  TSE_UNTOGGLE_(LC_COLLATEb_)
#endif

#ifndef STRXFRM_LOCK
#  define STRXFRM_LOCK    LCr_LOCK_(  LC_COLLATEb_|LC_CTYPEb_)
#  define STRXFRM_UNLOCK  LCr_UNLOCK_(LC_COLLATEb_|LC_CTYPEb_)
#endif

#ifndef SWAPCONTEXT_LOCK

   /* swapcontext() has potential races with other threads concurrently
    *               executing any of: itself, getcontext(), makecontext(), or
    *               setcontext(). */
#  define SWAPCONTEXT_LOCK    GENx_LOCK_
#  define SWAPCONTEXT_UNLOCK  GENx_UNLOCK_
#endif

#ifndef SWPRINTF_LOCK
#  define SWPRINTF_LOCK    LCr_LOCK_(  LC_CTYPEb_|LC_NUMERICb_)
#  define SWPRINTF_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_|LC_NUMERICb_)
#endif

#ifndef SWSCANF_LOCK
#  define SWSCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define SWSCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef SYSCONF_LOCK
#  define SYSCONF_LOCK    ENVr_LOCK_
#  define SYSCONF_UNLOCK  ENVr_UNLOCK_
#endif

#ifndef SYSLOG_LOCK
#  define SYSLOG_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define SYSLOG_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef SYSTEM_LOCK
#  ifndef __GLIBC__

     /* system() Some implementations are not-thread safe; See POSIX Standard
      */
#    define SYSTEM_LOCK    NOOP
#    define SYSTEM_UNLOCK  NOOP
#  else
#    define SYSTEM_LOCK    NOOP
#    define SYSTEM_UNLOCK  NOOP
#  endif
#endif

#ifndef TDELETE_LOCK

   /* tdelete() has potential races with other threads concurrently executing
    *           any of: itself, tfind(), or tsearch(). */
#  define TDELETE_LOCK    GENx_LOCK_
#  define TDELETE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef TEMPNAM_LOCK

   /* tempnam() Obsolete; use mkstemp() or tmpfile() instead */
#  define TEMPNAM_LOCK    ENVr_LOCK_
#  define TEMPNAM_UNLOCK  ENVr_UNLOCK_
#endif

#ifndef TFIND_LOCK

   /* tfind() has potential races with other threads concurrently executing
    *         any of: itself, tdelete(), or tsearch(). */
#  define TFIND_LOCK    GENx_LOCK_
#  define TFIND_UNLOCK  GENx_UNLOCK_
#endif

#ifndef TIMEGM_LOCK

   /* timegm() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001 */
#  define TIMEGM_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define TIMEGM_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef TIMELOCAL_LOCK

   /* timelocal() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define TIMELOCAL_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define TIMELOCAL_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef TIMEZONE_LOCK

   /* timezone has potential races with other threads concurrently executing
    *          any of: itself, ctime(), ctime_r(), daylight(), localtime(),
    *          localtime_r(), mktime(), strftime(), tzname(), or tzset(). */
#  define TIMEZONE_LOCK    GENx_LOCK_
#  define TIMEZONE_UNLOCK  GENx_UNLOCK_
#endif

#ifndef TMPNAM_LOCK

   /* tmpnam() Obsolete; use mkstemp() or tmpfile() instead
    * tmpnam() locking macros are only valid if '!s' */
#  define TMPNAM_LOCK    NOOP
#  define TMPNAM_UNLOCK  NOOP
#endif

#ifndef TMPNAM_R_LOCK

   /* tmpnam_r() Obsolete; use mkstemp() or tmpfile() instead
    * tmpnam_r() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001 */
#  define TMPNAM_R_LOCK    NOOP
#  define TMPNAM_R_UNLOCK  NOOP
#endif

#ifndef TOLOWER_LOCK

   /* tolower() Use a Perl toLOWER-family macro instead */
#  define TOLOWER_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOLOWER_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TOLOWER_L_LOCK

   /* tolower_l() Use a Perl toLOWER-family macro instead */
#  define TOLOWER_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOLOWER_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TOUPPER_LOCK

   /* toupper() Use a Perl toUPPER-family macro instead */
#  define TOUPPER_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOUPPER_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TOUPPER_L_LOCK

   /* toupper_l() Use a Perl toUPPER-family macro instead */
#  define TOUPPER_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOUPPER_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TOWCTRANS_LOCK
#  define TOWCTRANS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOWCTRANS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TOWLOWER_LOCK

   /* towlower() Use a Perl toLOWER-family macro instead */
#  define TOWLOWER_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOWLOWER_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TOWLOWER_L_LOCK

   /* towlower_l() Use a Perl toLOWER-family macro instead */
#  define TOWLOWER_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOWLOWER_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TOWUPPER_LOCK

   /* towupper() Use a Perl toUPPER-family macro instead */
#  define TOWUPPER_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOWUPPER_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TOWUPPER_L_LOCK

   /* towupper_l() Use a Perl toUPPER-family macro instead */
#  define TOWUPPER_L_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define TOWUPPER_L_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef TSEARCH_LOCK

   /* tsearch() has potential races with other threads concurrently executing
    *           any of: itself, tdelete(), or tfind(). */
#  define TSEARCH_LOCK    GENx_LOCK_
#  define TSEARCH_UNLOCK  GENx_UNLOCK_
#endif

#ifndef TTYNAME_LOCK

   /* ttyname() Use ttyname_r() instead
    * ttyname() has potential races with other threads concurrently executing
    *           either itself or login_tty. */
#  define TTYNAME_LOCK    GENx_LOCK_
#  define TTYNAME_UNLOCK  GENx_UNLOCK_
#endif

#ifndef TTYNAME_R_LOCK
#  define TTYNAME_R_LOCK    NOOP
#  define TTYNAME_R_UNLOCK  NOOP
#endif

#ifndef TTYSLOT_LOCK

   /* ttyslot() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define TTYSLOT_LOCK                              \
#    error_ttyslot_not_suitable_for_multi-threaded_operation
#endif

#ifndef TWALK_LOCK

   /* twalk() has potential races with other threads concurrently executing
    *         either itself or twalk_r. */
#  define TWALK_LOCK    GENx_LOCK_
#  define TWALK_UNLOCK  GENx_UNLOCK_
#endif

#ifndef TWALK_R_LOCK

   /* twalk_r() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001
    * twalk_r() has potential races with other threads concurrently executing
    *           either itself or twalk. */
#  define TWALK_R_LOCK    GENx_LOCK_
#  define TWALK_R_UNLOCK  GENx_UNLOCK_
#endif

#ifndef TZNAME_LOCK

   /* tzname has potential races with other threads concurrently executing any
    *        of: itself, ctime(), ctime_r(), daylight(), localtime(),
    *        localtime_r(), mktime(), strftime(), timezone(), or tzset(). */
#  define TZNAME_LOCK    GENx_LOCK_
#  define TZNAME_UNLOCK  GENx_UNLOCK_
#endif

#ifndef TZSET_LOCK

   /* tzset() has potential races with other threads concurrently executing
    *         any of: itself, ctime(), ctime_r(), daylight(), localtime(),
    *         localtime_r(), mktime(), strftime(), timezone(), or tzname(). */
#  define TZSET_LOCK    GENx_ENVr_LCr_LOCK_(  LC_ALLb_)
#  define TZSET_UNLOCK  GENx_ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef UNGETWC_LOCK
#  define UNGETWC_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define UNGETWC_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef UNSETENV_LOCK
#  define UNSETENV_LOCK    ENVx_LOCK_
#  define UNSETENV_UNLOCK  ENVx_UNLOCK_
#endif

#ifndef UPDWTMP_LOCK

   /* updwtmp() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001
    * updwtmp() is vulnerable to signal ALRM */
#  define UPDWTMP_LOCK    NOOP
#  define UPDWTMP_UNLOCK  NOOP
#endif

#ifndef UTMPNAME_LOCK

   /* utmpname() has never been in the POSIX Standard, or was removed as of
    *            POSIX 2001
    * utmpname() has potential races with other threads concurrently executing
    *            any of: itself, endutent(), endutxent(), getlogin(),
    *            getlogin_r(), getutent(), getutid(), getutline(),
    *            getutxent(), getutxid(), getutxline(), glob(), login(),
    *            logout(), pututline(), pututxline(), setutent(), setutxent(),
    *            or wordexp(). */
#  define UTMPNAME_LOCK    GENx_LOCK_
#  define UTMPNAME_UNLOCK  GENx_UNLOCK_
#endif

#ifndef VA_ARG_LOCK

   /* va_arg() locking macros are only valid if 'arg-ap-is-local-to-its-thread'
    */
#  define VA_ARG_LOCK    NOOP
#  define VA_ARG_UNLOCK  NOOP
#endif

#ifndef VALLOC_LOCK

   /* valloc() must be called at least once in single-threaded mode to enable
    *          thread-safety in subsequent calls when in multi-threaded mode.
    * valloc() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001 */
#  define VALLOC_LOCK    NOOP
#  define VALLOC_UNLOCK  NOOP
#endif

#ifndef VASPRINTF_LOCK

   /* vasprintf() has never been in the POSIX Standard, or was removed as of
    *             POSIX 2001 */
#  define VASPRINTF_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define VASPRINTF_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef VDPRINTF_LOCK
#  define VDPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define VDPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef VERR_LOCK

   /* verr() has never been in the POSIX Standard, or was removed as of POSIX
    *        2001 */
#  define VERR_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define VERR_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef VERRX_LOCK

   /* verrx() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001 */
#  define VERRX_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define VERRX_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef VERSIONSORT_LOCK

   /* versionsort() has never been in the POSIX Standard, or was removed as of
    *               POSIX 2001 */
#  define VERSIONSORT_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define VERSIONSORT_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef VFPRINTF_LOCK
#  define VFPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define VFPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef VFSCANF_LOCK
#  define VFSCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define VFSCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef VFWPRINTF_LOCK
#  define VFWPRINTF_LOCK    LCr_LOCK_(  LC_CTYPEb_|LC_NUMERICb_)
#  define VFWPRINTF_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_|LC_NUMERICb_)
#endif

#ifndef VPRINTF_LOCK
#  define VPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define VPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef VSCANF_LOCK
#  define VSCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define VSCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef VSNPRINTF_LOCK
#  define VSNPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define VSNPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef VSPRINTF_LOCK
#  define VSPRINTF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define VSPRINTF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef VSSCANF_LOCK
#  define VSSCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define VSSCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef VSWPRINTF_LOCK
#  define VSWPRINTF_LOCK    LCr_LOCK_(  LC_CTYPEb_|LC_NUMERICb_)
#  define VSWPRINTF_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_|LC_NUMERICb_)
#endif

#ifndef VSYSLOG_LOCK

   /* vsyslog() has never been in the POSIX Standard, or was removed as of
    *           POSIX 2001 */
#  define VSYSLOG_LOCK    ENVr_LCr_LOCK_(  LC_ALLb_)
#  define VSYSLOG_UNLOCK  ENVr_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef VWARN_LOCK

   /* vwarn() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001 */
#  define VWARN_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define VWARN_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef VWARNX_LOCK

   /* vwarnx() has never been in the POSIX Standard, or was removed as of
    *          POSIX 2001 */
#  define VWARNX_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define VWARNX_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef VWPRINTF_LOCK
#  define VWPRINTF_LOCK    LCr_LOCK_(  LC_CTYPEb_|LC_NUMERICb_)
#  define VWPRINTF_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_|LC_NUMERICb_)
#endif

#ifndef WARN_LOCK

   /* warn() has never been in the POSIX Standard, or was removed as of POSIX
    *        2001 */
#  define WARN_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define WARN_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef WARNX_LOCK

   /* warnx() has never been in the POSIX Standard, or was removed as of POSIX
    *         2001 */
#  define WARNX_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define WARNX_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef WCRTOMB_LOCK

   /* wcrtomb() locking macros are only valid if '!ps' */
#  define WCRTOMB_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define WCRTOMB_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef WCSCASECMP_LOCK
#  define WCSCASECMP_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define WCSCASECMP_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef WCSCHR_LOCK
#  define WCSCHR_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define WCSCHR_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef WCSCOLL_LOCK
#  define WCSCOLL_LOCK    LCr_LOCK_(  LC_COLLATEb_)
#  define WCSCOLL_UNLOCK  LCr_UNLOCK_(LC_COLLATEb_)
#endif

#ifndef WCSFTIME_LOCK
#  define WCSFTIME_LOCK    TSE_TOGGLE_(  LC_CTYPEb_|LC_TIMEb_)
#  define WCSFTIME_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_|LC_TIMEb_)
#endif

#ifndef WCSNCASECMP_LOCK
#  define WCSNCASECMP_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define WCSNCASECMP_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef WCSNRTOMBS_LOCK

   /* wcsnrtombs() locking macros are only valid if '!ps' */
#  define WCSNRTOMBS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define WCSNRTOMBS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef WCSRCHR_LOCK
#  define WCSRCHR_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define WCSRCHR_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef WCSRTOMBS_LOCK

   /* wcsrtombs() locking macros are only valid if '!ps' */
#  define WCSRTOMBS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define WCSRTOMBS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef WCSTOD_LOCK
#  define WCSTOD_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define WCSTOD_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef WCSTOF_LOCK
#  define WCSTOF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define WCSTOF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef WCSTOIMAX_LOCK
#  define WCSTOIMAX_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define WCSTOIMAX_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef WCSTOLD_LOCK
#  define WCSTOLD_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define WCSTOLD_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

#ifndef WCSTOMBS_LOCK
#  define WCSTOMBS_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define WCSTOMBS_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef WCSTOUMAX_LOCK
#  define WCSTOUMAX_LOCK    LCr_LOCK_(  LC_ALLb_)
#  define WCSTOUMAX_UNLOCK  LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef WCSWIDTH_LOCK
#  define WCSWIDTH_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define WCSWIDTH_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef WCSXFRM_LOCK
#  define WCSXFRM_LOCK    LCr_LOCK_(  LC_COLLATEb_|LC_CTYPEb_)
#  define WCSXFRM_UNLOCK  LCr_UNLOCK_(LC_COLLATEb_|LC_CTYPEb_)
#endif

#ifndef WCTOB_LOCK

   /* wctob() Use wctomb() or wcrtomb() instead */
#  define WCTOB_LOCK    TSE_TOGGLE_(  LC_CTYPEb_)
#  define WCTOB_UNLOCK  TSE_UNTOGGLE_(LC_CTYPEb_)
#endif

#ifndef WCTOMB_LOCK

   /* wctomb() Use wcrtomb() instead */
#  define WCTOMB_LOCK    GENx_LCr_LOCK_(  LC_CTYPEb_)
#  define WCTOMB_UNLOCK  GENx_LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef WCTRANS_LOCK
#  define WCTRANS_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define WCTRANS_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef WCTYPE_LOCK
#  define WCTYPE_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define WCTYPE_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef WCWIDTH_LOCK
#  define WCWIDTH_LOCK    LCr_LOCK_(  LC_CTYPEb_)
#  define WCWIDTH_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_)
#endif

#ifndef WORDEXP_LOCK

   /* wordexp() is vulnerable to signal ALRM
    * wordexp() has potential races with other threads concurrently executing
    *           any of: itself, endutent(), endutxent(), getlogin(),
    *           getlogin_r(), getutent(), getutid(), getutline(), getutxent(),
    *           getutxid(), getutxline(), glob(), login(), logout(),
    *           pututline(), pututxline(), setutent(), setutxent(), or
    *           utmpname(). */
#  define WORDEXP_LOCK    ENVx_LCr_LOCK_(  LC_ALLb_)
#  define WORDEXP_UNLOCK  ENVx_LCr_UNLOCK_(LC_ALLb_)
#endif

#ifndef WPRINTF_LOCK
#  define WPRINTF_LOCK    LCr_LOCK_(  LC_CTYPEb_|LC_NUMERICb_)
#  define WPRINTF_UNLOCK  LCr_UNLOCK_(LC_CTYPEb_|LC_NUMERICb_)
#endif

#ifndef WSCANF_LOCK
#  define WSCANF_LOCK    LCr_LOCK_(  LC_NUMERICb_)
#  define WSCANF_UNLOCK  LCr_UNLOCK_(LC_NUMERICb_)
#endif

/* ex: set ro ft=c: */
